(this["webpackJsonpbookroll2-frontend"]=this["webpackJsonpbookroll2-frontend"]||[]).push([[0],Array(58).concat([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Winwheel}));var D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(31),D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(42),gsap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(62),Winwheel=function(){function e(t,n){Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,e);var r={canvasId:"canvas",centerX:null,centerY:null,outerRadius:null,innerRadius:0,numSegments:1,drawMode:"code",rotationAngle:0,textFontFamily:"sans-serif",textFontSize:13,textFontWeight:"bold",textOrientation:"horizontal",textAlignment:"center",textDirection:"normal",textMargin:null,textFillStyle:"black",textStrokeStyle:null,textLineWidth:1,fillStyle:"silver",strokeStyle:null,lineWidth:1,clearTheCanvas:!0,imageOverlay:!1,drawText:!0,pointerAngle:0,wheelImage:null,imageDirection:"N"};for(var a in r)null!=t&&"undefined"!==typeof t[a]?this[a]=t[a]:this[a]=r[a];if(null!=t)for(var i in t)"undefined"===typeof this[i]&&(this[i]=t[i]);this.canvasId?(this.canvas=document.getElementById(this.canvasId),this.canvas?(null==this.centerX&&(this.centerX=this.canvas.width/2),null==this.centerY&&(this.centerY=this.canvas.height/2),null==this.outerRadius&&(this.canvas.width<this.canvas.height?this.outerRadius=this.canvas.width/2-this.lineWidth:this.outerRadius=this.canvas.height/2-this.lineWidth),this.ctx=this.canvas.getContext("2d")):(this.canvas=null,this.ctx=null)):(this.cavnas=null,this.ctx=null),this.segments=new Array(null);for(var s=1;s<=this.numSegments;s++)null!=t&&t.segments&&"undefined"!==typeof t.segments[s-1]?this.segments[s]=new Segment(t.segments[s-1]):this.segments[s]=new Segment;if(this.updateSegmentSizes(),null===this.textMargin&&(this.textMargin=this.textFontSize/1.7),null!=t&&t.animation&&"undefined"!==typeof t.animation?this.animation=new Animation(t.animation):this.animation=new Animation,null!=t&&t.pins&&"undefined"!==typeof t.pins&&(this.pins=new Pin(t.pins)),"image"==this.drawMode||"segmentImage"==this.drawMode?("undefined"===typeof t.fillStyle&&(this.fillStyle=null),"undefined"===typeof t.strokeStyle&&(this.strokeStyle="red"),"undefined"===typeof t.drawText&&(this.drawText=!1),"undefined"===typeof t.lineWidth&&(this.lineWidth=1),"undefined"===typeof n&&(n=!1)):"undefined"===typeof n&&(n=!0),null!=t&&t.pointerGuide&&"undefined"!==typeof t.pointerGuide?this.pointerGuide=new PointerGuide(t.pointerGuide):this.pointerGuide=new PointerGuide,1==n)this.draw(this.clearTheCanvas);else if("segmentImage"==this.drawMode){winwheelToDrawDuringAnimation=this,winhweelAlreadyDrawn=!1;for(var c=1;c<=this.numSegments;c++)null!==this.segments[c].image&&(this.segments[c].imgData=new Image,this.segments[c].imgData.onload=winwheelLoadedImage,this.segments[c].imgData.src=this.segments[c].image)}}return Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(e,[{key:"updateSegmentSizes",value:function(){if(this.segments){for(var e=0,t=0,n=1;n<=this.numSegments;n++)null!==this.segments[n].size&&(e+=this.segments[n].size,t++);var r=360-e,a=0;r>0&&(a=r/(this.numSegments-t));for(var i=0,s=1;s<=this.numSegments;s++)this.segments[s].startAngle=i,this.segments[s].size?i+=this.segments[s].size:i+=a,this.segments[s].endAngle=i}}},{key:"clearCanvas",value:function(){this.ctx&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"draw",value:function(e){this.ctx&&("undefined"!==typeof e?1==e&&this.clearCanvas():this.clearCanvas(),"image"==this.drawMode?(this.drawWheelImage(),1==this.drawText&&this.drawSegmentText(),1==this.imageOverlay&&this.drawSegments()):"segmentImage"==this.drawMode?(this.drawSegmentImages(),1==this.drawText&&this.drawSegmentText(),1==this.imageOverlay&&this.drawSegments()):(this.drawSegments(),1==this.drawText&&this.drawSegmentText()),"undefined"!==typeof this.pins&&1==this.pins.visible&&this.drawPins(),1==this.pointerGuide.display&&this.drawPointerGuide())}},{key:"drawPins",value:function(){if(this.pins&&this.pins.number)for(var e=360/this.pins.number,t=1;t<=this.pins.number;t++)this.ctx.save(),this.ctx.strokeStyle=this.pins.strokeStyle,this.ctx.lineWidth=this.pins.lineWidth,this.ctx.fillStyle=this.pins.fillStyle,this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(t*e+this.rotationAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.beginPath(),this.ctx.arc(this.centerX,this.centerY-this.outerRadius+this.pins.outerRadius+this.pins.margin,this.pins.outerRadius,0,2*Math.PI),this.pins.fillStyle&&this.ctx.fill(),this.pins.strokeStyle&&this.ctx.stroke(),this.ctx.restore()}},{key:"drawPointerGuide",value:function(){this.ctx&&(this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.pointerAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.strokeStyle=this.pointerGuide.strokeStyle,this.ctx.lineWidth=this.pointerGuide.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.centerX,this.centerY),this.ctx.lineTo(this.centerX,-this.outerRadius/4),this.ctx.stroke(),this.ctx.restore())}},{key:"drawWheelImage",value:function(){if(null!=this.wheelImage){var e=this.centerX-this.wheelImage.height/2,t=this.centerY-this.wheelImage.width/2;this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.rotationAngle)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.drawImage(this.wheelImage,e,t),this.ctx.restore()}}},{key:"drawSegmentImages",value:function(){if(this.ctx&&this.segments)for(var e=1;e<=this.numSegments;e++){var t=this.segments[e];if(t.imgData.height){var n=0,r=0,a=0,i="";"S"==(i=null!==t.imageDirection?t.imageDirection:this.imageDirection)?(n=this.centerX-t.imgData.width/2,r=this.centerY,a=t.startAngle+180+(t.endAngle-t.startAngle)/2):"E"==i?(n=this.centerX,r=this.centerY-t.imgData.height/2,a=t.startAngle+270+(t.endAngle-t.startAngle)/2):"W"==i?(n=this.centerX-t.imgData.width,r=this.centerY-t.imgData.height/2,a=t.startAngle+90+(t.endAngle-t.startAngle)/2):(n=this.centerX-t.imgData.width/2,r=this.centerY-t.imgData.height,a=t.startAngle+(t.endAngle-t.startAngle)/2),this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(this.rotationAngle+a)),this.ctx.translate(-this.centerX,-this.centerY),this.ctx.drawImage(t.imgData,n,r),this.ctx.restore()}else console.log("Segment "+e+" imgData is not loaded")}}},{key:"drawSegments",value:function(){if(this.ctx&&this.segments)for(var e=1;e<=this.numSegments;e++){var t,n,r,a=this.segments[e];t=null!==a.fillStyle?a.fillStyle:this.fillStyle,this.ctx.fillStyle=t,n=null!==a.lineWidth?a.lineWidth:this.lineWidth,this.ctx.lineWidth=n,r=null!==a.strokeStyle?a.strokeStyle:this.strokeStyle,this.ctx.strokeStyle=r,(r||t)&&(this.ctx.beginPath(),this.innerRadius||this.ctx.moveTo(this.centerX,this.centerY),this.ctx.arc(this.centerX,this.centerY,this.outerRadius,this.degToRad(a.startAngle+this.rotationAngle-90),this.degToRad(a.endAngle+this.rotationAngle-90),!1),this.innerRadius?this.ctx.arc(this.centerX,this.centerY,this.innerRadius,this.degToRad(a.endAngle+this.rotationAngle-90),this.degToRad(a.startAngle+this.rotationAngle-90),!0):this.ctx.lineTo(this.centerX,this.centerY),t&&this.ctx.fill(),r&&this.ctx.stroke())}}},{key:"drawSegmentText",value:function(){if(this.ctx)for(var e,t,n,r,a,i,s,c,o,l,u,d=1;d<=this.numSegments;d++){this.ctx.save();var h=this.segments[d];if(h.text){e=null!==h.textFontFamily?h.textFontFamily:this.textFontFamily,t=null!==h.textFontSize?h.textFontSize:this.textFontSize,n=null!==h.textFontWeight?h.textFontWeight:this.textFontWeight,r=null!==h.textOrientation?h.textOrientation:this.textOrientation,a=null!==h.textAlignment?h.textAlignment:this.textAlignment,i=null!==h.textDirection?h.textDirection:this.textDirection,s=null!==h.textMargin?h.textMargin:this.textMargin,c=null!==h.textFillStyle?h.textFillStyle:this.textFillStyle,o=null!==h.textStrokeStyle?h.textStrokeStyle:this.textStrokeStyle,l=null!==h.textLineWidth?h.textLineWidth:this.textLineWidth,u="",null!=n&&(u+=n+" "),null!=t&&(u+=t+"px "),null!=e&&(u+=e),this.ctx.font=u,this.ctx.fillStyle=c,this.ctx.strokeStyle=o,this.ctx.lineWidth=l;var b=h.text.split("\n"),j=0-t*(b.length/2)+t/2;"curved"!=r||"inner"!=a&&"outer"!=a||(j=0);for(var f=0;f<b.length;f++){if("reversed"==i){if("horizontal"==r){this.ctx.textAlign="inner"==a?"right":"outer"==a?"left":"center",this.ctx.textBaseline="middle";var m=this.degToRad(h.endAngle-(h.endAngle-h.startAngle)/2+this.rotationAngle-90-180);this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(m),this.ctx.translate(-this.centerX,-this.centerY),"inner"==a?(c&&this.ctx.fillText(b[f],this.centerX-this.innerRadius-s,this.centerY+j),o&&this.ctx.strokeText(b[f],this.centerX-this.innerRadius-s,this.centerY+j)):"outer"==a?(c&&this.ctx.fillText(b[f],this.centerX-this.outerRadius+s,this.centerY+j),o&&this.ctx.strokeText(b[f],this.centerX-this.outerRadius+s,this.centerY+j)):(c&&this.ctx.fillText(b[f],this.centerX-this.innerRadius-(this.outerRadius-this.innerRadius)/2-s,this.centerY+j),o&&this.ctx.strokeText(b[f],this.centerX-this.innerRadius-(this.outerRadius-this.innerRadius)/2-s,this.centerY+j)),this.ctx.restore()}else if("vertical"==r){this.ctx.textAlign="center",this.ctx.textBaseline="inner"==a?"top":"outer"==a?"bottom":"middle";m=h.endAngle-(h.endAngle-h.startAngle)/2-180;if(m+=this.rotationAngle,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(m)),this.ctx.translate(-this.centerX,-this.centerY),"outer"==a)var O=this.centerY+this.outerRadius-s;else if("inner"==a)O=this.centerY+this.innerRadius+s;var p=t-t/9;if("outer"==a)for(var g=b[f].length-1;g>=0;g--){var v=b[f].charAt(g);c&&this.ctx.fillText(v,this.centerX+j,O),o&&this.ctx.strokeText(v,this.centerX+j,O),O-=p}else if("inner"==a)for(var _=0;_<b[f].length;_++){var x=b[f].charAt(_);c&&this.ctx.fillText(x,this.centerX+j,O),o&&this.ctx.strokeText(x,this.centerX+j,O),O+=p}else if("center"==a){var w=0;b[f].length>1&&(w=p*(b[f].length-1)/2);O=this.centerY+this.innerRadius+(this.outerRadius-this.innerRadius)/2+w+s;for(var C=b[f].length-1;C>=0;C--){var y=b[f].charAt(C);c&&this.ctx.fillText(y,this.centerX+j,O),o&&this.ctx.strokeText(y,this.centerX+j,O),O-=p}}this.ctx.restore()}else if("curved"==r){var S=0;"inner"==a?(S=this.innerRadius+s,this.ctx.textBaseline="top"):"outer"==a?(S=this.outerRadius-s,this.ctx.textBaseline="bottom",S-=t*(b.length-1)):"center"==a&&(S=this.innerRadius+s+(this.outerRadius-this.innerRadius)/2,this.ctx.textBaseline="middle");var k=0,N=0;if(b[f].length>1){this.ctx.textAlign="left",k=t/10*4;var E=(k*=100/S)*b[f].length;N=h.startAngle+((h.endAngle-h.startAngle)/2-E/2)}else N=h.startAngle+(h.endAngle-h.startAngle)/2,this.ctx.textAlign="center";for(N+=this.rotationAngle,N-=180,C=b[f].length;C>=0;C--){this.ctx.save();var L=b[f].charAt(C);this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(N)),this.ctx.translate(-this.centerX,-this.centerY),o&&this.ctx.strokeText(L,this.centerX,this.centerY+S+j),c&&this.ctx.fillText(L,this.centerX,this.centerY+S+j),N+=k,this.ctx.restore()}}}else if("horizontal"==r){this.ctx.textAlign="inner"==a?"left":"outer"==a?"right":"center",this.ctx.textBaseline="middle";m=this.degToRad(h.endAngle-(h.endAngle-h.startAngle)/2+this.rotationAngle-90);this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(m),this.ctx.translate(-this.centerX,-this.centerY),"inner"==a?(c&&this.ctx.fillText(b[f],this.centerX+this.innerRadius+s,this.centerY+j),o&&this.ctx.strokeText(b[f],this.centerX+this.innerRadius+s,this.centerY+j)):"outer"==a?(c&&this.ctx.fillText(b[f],this.centerX+this.outerRadius-s,this.centerY+j),o&&this.ctx.strokeText(b[f],this.centerX+this.outerRadius-s,this.centerY+j)):(c&&this.ctx.fillText(b[f],this.centerX+this.innerRadius+(this.outerRadius-this.innerRadius)/2+s,this.centerY+j),o&&this.ctx.strokeText(b[f],this.centerX+this.innerRadius+(this.outerRadius-this.innerRadius)/2+s,this.centerY+j)),this.ctx.restore()}else if("vertical"==r){this.ctx.textAlign="center",this.ctx.textBaseline="inner"==a?"bottom":"outer"==a?"top":"middle";m=h.endAngle-(h.endAngle-h.startAngle)/2;if(m+=this.rotationAngle,this.ctx.save(),this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(m)),this.ctx.translate(-this.centerX,-this.centerY),"outer"==a)O=this.centerY-this.outerRadius+s;else if("inner"==a)O=this.centerY-this.innerRadius-s;p=t-t/9;if("outer"==a)for(C=0;C<b[f].length;C++){var A=b[f].charAt(C);c&&this.ctx.fillText(A,this.centerX+j,O),o&&this.ctx.strokeText(A,this.centerX+j,O),O+=p}else if("inner"==a)for(C=b[f].length-1;C>=0;C--){var I=b[f].charAt(C);c&&this.ctx.fillText(I,this.centerX+j,O),o&&this.ctx.strokeText(I,this.centerX+j,O),O-=p}else if("center"==a){w=0;b[f].length>1&&(w=p*(b[f].length-1)/2);for(O=this.centerY-this.innerRadius-(this.outerRadius-this.innerRadius)/2-w-s,C=0;C<b[f].length;C++){var T=b[f].charAt(C);c&&this.ctx.fillText(T,this.centerX+j,O),o&&this.ctx.strokeText(T,this.centerX+j,O),O+=p}}this.ctx.restore()}else if("curved"==r){S=0;"inner"==a?(S=this.innerRadius+s,this.ctx.textBaseline="bottom",S+=t*(b.length-1)):"outer"==a?(S=this.outerRadius-s,this.ctx.textBaseline="top"):"center"==a&&(S=this.innerRadius+s+(this.outerRadius-this.innerRadius)/2,this.ctx.textBaseline="middle");k=0,N=0;if(b[f].length>1){this.ctx.textAlign="left",k=t/10*4;var R=(k*=100/S)*b[f].length;N=h.startAngle+((h.endAngle-h.startAngle)/2-R/2)}else N=h.startAngle+(h.endAngle-h.startAngle)/2,this.ctx.textAlign="center";for(N+=this.rotationAngle,C=0;C<b[f].length;C++){this.ctx.save();var D=b[f].charAt(C);this.ctx.translate(this.centerX,this.centerY),this.ctx.rotate(this.degToRad(N)),this.ctx.translate(-this.centerX,-this.centerY),o&&this.ctx.strokeText(D,this.centerX,this.centerY-S+j),c&&this.ctx.fillText(D,this.centerX,this.centerY-S+j),N+=k,this.ctx.restore()}}j+=t}}this.ctx.restore()}}},{key:"degToRad",value:function(e){return.017453292519943295*e}},{key:"setCenter",value:function(e,t){this.centerX=e,this.centerY=t}},{key:"addSegment",value:function(e,t){var n,r=new Segment(e);if(this.numSegments++,"undefined"!==typeof t){for(var a=this.numSegments;a>t;a--)this.segments[a]=this.segments[a-1];this.segments[t]=r,n=t}else this.segments[this.numSegments]=r,n=this.numSegments;return this.updateSegmentSizes(),this.segments[n]}},{key:"setCanvasId",value:function(e){e?(this.canvasId=e,this.canvas=document.getElementById(this.canvasId),this.canvas&&(this.ctx=this.canvas.getContext("2d"))):(this.canvasId=null,this.ctx=null,this.canvas=null)}},{key:"deleteSegment",value:function(e){if(this.numSegments>1){if("undefined"!==typeof e)for(var t=e;t<this.numSegments;t++)this.segments[t]=this.segments[t+1];this.segments[this.numSegments]=void 0,this.numSegments--,this.updateSegmentSizes()}}},{key:"windowToCanvas",value:function(e,t){var n=this.canvas.getBoundingClientRect();return{x:Math.floor(e-n.left*(this.canvas.width/n.width)),y:Math.floor(t-n.top*(this.canvas.height/n.height))}}},{key:"getSegmentAt",value:function(e,t){var n=null,r=this.getSegmentNumberAt(e,t);return null!==r&&(n=this.segments[r]),n}},{key:"getSegmentNumberAt",value:function(e,t){var n,r,a,i,s,c=this.windowToCanvas(e,t);c.x>this.centerX?(a=c.x-this.centerX,r="R"):(a=this.centerX-c.x,r="L"),c.y>this.centerY?(i=c.y-this.centerY,n="B"):(i=this.centerY-c.y,n="T");var o=i/a,l=180*Math.atan(o)/Math.PI,u=0;(s=Math.sqrt(i*i+a*a),"T"==n&&"R"==r?u=Math.round(90-l):"B"==n&&"R"==r?u=Math.round(l+90):"B"==n&&"L"==r?u=Math.round(90-l+180):"T"==n&&"L"==r&&(u=Math.round(l+270)),0!=this.rotationAngle)&&((u-=this.getRotationPosition())<0&&(u=360-Math.abs(u)));var d=null;for(e=1;e<=this.numSegments;e++)if(u>=this.segments[e].startAngle&&u<=this.segments[e].endAngle&&s>=this.innerRadius&&s<=this.outerRadius){d=e;break}return d}},{key:"getIndicatedSegment",value:function(){var e=this.getIndicatedSegmentNumber();return this.segments[e]}},{key:"getIndicatedSegmentNumber",value:function(){var e=0,t=this.getRotationPosition(),n=Math.floor(this.pointerAngle-t);n<0&&(n=360-Math.abs(n));for(var r=1;r<this.segments.length;r++)if(n>=this.segments[r].startAngle&&n<=this.segments[r].endAngle){e=r;break}return e}},{key:"getCurrentPinNumber",value:function(){var e=0;if(this.pins){var t=this.getRotationPosition(),n=Math.floor(this.pointerAngle-t);n<0&&(n=360-Math.abs(n));for(var r=360/this.pins.number,a=0,i=0;i<this.pins.number;i++){if(n>=a&&n<=a+r){e=i;break}a+=r}"clockwise"==this.animation.direction&&++e>this.pins.number&&(e=0)}return e}},{key:"getRotationPosition",value:function(){var e=this.rotationAngle;if(e>=0){if(e>360)e-=360*Math.floor(e/360)}else{if(e<-360)e-=360*Math.ceil(e/360);e=360+e}return e}},{key:"startAnimation",value:function(){if(this.animation){this.computeAnimation(),winwheelToDrawDuringAnimation=this;var e=new Array(null);e[this.animation.propertyName]=this.animation.propertyValue,e.yoyo=this.animation.yoyo,e.repeat=this.animation.repeat,e.ease=this.animation.easing,e.onUpdate=winwheelAnimationLoop,e.onComplete=winwheelStopAnimation,e.duration=this.animation.duration,this.tween=gsap__WEBPACK_IMPORTED_MODULE_2__.a.to(this,e)}}},{key:"stopAnimation",value:function(e){winwheelToDrawDuringAnimation&&(winwheelToDrawDuringAnimation.tween.kill(),winwheelStopAnimation(e)),winwheelToDrawDuringAnimation=this}},{key:"pauseAnimation",value:function(){this.tween&&this.tween.pause()}},{key:"resumeAnimation",value:function(){this.tween&&this.tween.play()}},{key:"computeAnimation",value:function(){this.animation&&("spinOngoing"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=-1),null==this.animation.easing&&(this.animation.easing="Linear.easeNone"),null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction&&(this.animation.propertyValue=0-this.animation.propertyValue)):"spinToStop"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=0),null==this.animation.easing&&(this.animation.easing="Power3.easeOut"),null==this.animation.stopAngle?this.animation._stopAngle=Math.floor(359*Math.random()):this.animation._stopAngle=360-this.animation.stopAngle+this.pointerAngle,null==this.animation.yoyo&&(this.animation.yoyo=!1),this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):"spinAndBack"==this.animation.type?(this.animation.propertyName="rotationAngle",null==this.animation.spins&&(this.animation.spins=5),null==this.animation.repeat&&(this.animation.repeat=1),null==this.animation.easing&&(this.animation.easing="Power2.easeInOut"),null==this.animation.yoyo&&(this.animation.yoyo=!0),null==this.animation.stopAngle?this.animation._stopAngle=0:this.animation._stopAngle=360-this.animation.stopAngle,this.animation.propertyValue=360*this.animation.spins,"anti-clockwise"==this.animation.direction?(this.animation.propertyValue=0-this.animation.propertyValue,this.animation.propertyValue-=360-this.animation._stopAngle):this.animation.propertyValue+=this.animation._stopAngle):this.animation.type)}},{key:"getRandomForSegment",value:function(e){var t=0;if(e)if("undefined"!==typeof this.segments[e]){var n=this.segments[e].startAngle,r=this.segments[e].endAngle-n-2;r>0?t=n+1+Math.floor(Math.random()*r):console.log("Segment size is too small to safely get random angle inside it")}else console.log("Segment "+e+" undefined");else console.log("Segment number not specified");return t}}]),e}(),Pin=function e(t){Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,e);var n={visible:!0,number:36,outerRadius:3,fillStyle:"grey",strokeStyle:"black",lineWidth:1,margin:3};for(var r in n)null!=t&&"undefined"!==typeof t[r]?this[r]=t[r]:this[r]=n[r];if(null!=t)for(var a in t)"undefined"===typeof this[a]&&(this[a]=t[a])},Animation=function e(t){Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,e);var n={type:"spinOngoing",direction:"clockwise",propertyName:null,propertyValue:null,duration:10,yoyo:!1,repeat:null,easing:null,stopAngle:null,spins:null,clearTheCanvas:null,callbackFinished:null,callbackBefore:null,callbackAfter:null,callbackSound:null,soundTrigger:"segment"};for(var r in n)null!=t&&"undefined"!==typeof t[r]?this[r]=t[r]:this[r]=n[r];if(null!=t)for(var a in t)"undefined"===typeof this[a]&&(this[a]=t[a])},Segment=function(){function e(t){Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,e);var n={size:null,text:"",fillStyle:null,strokeStyle:null,lineWidth:null,textFontFamily:null,textFontSize:null,textFontWeight:null,textOrientation:null,textAlignment:null,textDirection:null,textMargin:null,textFillStyle:null,textStrokeStyle:null,textLineWidth:null,image:null,imageDirection:null,imgData:null,value:null};for(var r in n)null!=t&&"undefined"!==typeof t[r]?this[r]=t[r]:this[r]=n[r];if(null!=t)for(var a in t)"undefined"===typeof this[a]&&(this[a]=t[a]);this.startAngle=0,this.endAngle=0}return Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(e,[{key:"changeImage",value:function(e,t){this.image=e,this.imgData=null,t&&(this.imageDirection=t),winhweelAlreadyDrawn=!1,this.imgData=new Image,this.imgData.onload=winwheelLoadedImage,this.imgData.src=this.image}}]),e}(),PointerGuide=function e(t){Object(D_projects_bookroll2_bookroll2_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,e);var n={display:!1,strokeStyle:"red",lineWidth:3};for(var r in n)null!=t&&"undefined"!==typeof t[r]?this[r]=t[r]:this[r]=n[r]};function winwheelPercentToDegrees(e){var t=0;e>0&&e<=100&&(t=360*(e/100));return t}function winwheelAnimationLoop(){if(winwheelToDrawDuringAnimation){0!=winwheelToDrawDuringAnimation.animation.clearTheCanvas&&winwheelToDrawDuringAnimation.ctx.clearRect(0,0,winwheelToDrawDuringAnimation.canvas.width,winwheelToDrawDuringAnimation.canvas.height);var callbackBefore=winwheelToDrawDuringAnimation.animation.callbackBefore,callbackAfter=winwheelToDrawDuringAnimation.animation.callbackAfter;null!=callbackBefore&&("function"===typeof callbackBefore?callbackBefore():eval(callbackBefore)),winwheelToDrawDuringAnimation.draw(!1),null!=callbackAfter&&("function"===typeof callbackAfter?callbackAfter():eval(callbackAfter)),winwheelToDrawDuringAnimation.animation.callbackSound&&winwheelTriggerSound()}}function winwheelTriggerSound(){0==winwheelToDrawDuringAnimation.hasOwnProperty("_lastSoundTriggerNumber")&&(winwheelToDrawDuringAnimation._lastSoundTriggerNumber=0);var callbackSound=winwheelToDrawDuringAnimation.animation.callbackSound,currentTriggerNumber=0;currentTriggerNumber="pin"==winwheelToDrawDuringAnimation.animation.soundTrigger?winwheelToDrawDuringAnimation.getCurrentPinNumber():winwheelToDrawDuringAnimation.getIndicatedSegmentNumber(),currentTriggerNumber!=winwheelToDrawDuringAnimation._lastSoundTriggerNumber&&("function"===typeof callbackSound?callbackSound():eval(callbackSound),winwheelToDrawDuringAnimation._lastSoundTriggerNumber=currentTriggerNumber)}var winwheelToDrawDuringAnimation=null;function winwheelStopAnimation(canCallback){if(0!=canCallback){var callback=winwheelToDrawDuringAnimation.animation.callbackFinished;null!=callback&&("function"===typeof callback?callback(winwheelToDrawDuringAnimation.getIndicatedSegment()):eval(callback))}}var winhweelAlreadyDrawn=!1;function winwheelLoadedImage(){if(0==winhweelAlreadyDrawn){for(var e=0,t=1;t<=winwheelToDrawDuringAnimation.numSegments;t++)null!=winwheelToDrawDuringAnimation.segments[t].imgData&&winwheelToDrawDuringAnimation.segments[t].imgData.height&&e++;e==winwheelToDrawDuringAnimation.numSegments&&(winhweelAlreadyDrawn=!0,winwheelToDrawDuringAnimation.draw())}}},,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n(37),s=n.n(i),c=n(4),o=n(9);!function(e){e.LOGIN="/login",e.REGISTER="/register",e.USER_PROFILE="/user/:userUrl/",e.USER_PROFILE_BASE="/user/",e.USER_PROFILE_BOOKS="books",e.USER_PROFILE_REVIEWS="reviews",e.USER_SETTINGS="/user/:userUrl/settings",e.RANDOM_BOOK="/random-book",e.CLUB_PROFILE="/club/:clubUrl",e.CLUB_PROFILE_BASE="/club/",e.CLUB_PROFILE_RULES="rules",e.CLUB_PROFILE_MEMBERS="members",e.CLUB_PROFILE_BOOKS="books",e.CLUB_PROFILE_REVIEWS="reviews",e.CLUB_PROFILE_HISTORY="history",e.CLUB_SETTINGS="/club/:clubUrl/settings",e.CLUB_WHEEL="/club/:clubUrl/wheel"}(r||(r={}));var l,u=n(30),d=u.c,h=n(5),b=n(7),j=(n(72),n(0)),f=function(e){var t=e.title;Object(b.a)(e,["title"]);return Object(j.jsx)("div",{className:"profile-title",children:Object(j.jsx)("h1",{className:"profile-title__text",children:t})})};n(74);function m(){return m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function p(e,t){var n=e.title,r=e.titleId,i=O(e,["title","titleId"]);return a.createElement("svg",m({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,l||(l=a.createElement("path",{d:"M21.6751 14.6649L20.1399 13.3524C20.2126 12.9071 20.2501 12.4524 20.2501 11.9977C20.2501 11.543 20.2126 11.0883 20.1399 10.643L21.6751 9.33051C21.7908 9.23138 21.8737 9.09936 21.9127 8.95199C21.9516 8.80462 21.9447 8.64889 21.893 8.50551L21.8719 8.44457C21.4493 7.26338 20.8165 6.1684 20.004 5.21254L19.9618 5.16332C19.8632 5.04742 19.7318 4.96411 19.585 4.92437C19.4381 4.88462 19.2827 4.8903 19.1391 4.94066L17.2336 5.61801C16.5305 5.04144 15.7454 4.58676 14.8969 4.26801L14.529 2.27582C14.5012 2.12592 14.4285 1.98801 14.3205 1.88042C14.2125 1.77283 14.0743 1.70065 13.9243 1.67347L13.861 1.66176C12.6399 1.44144 11.3555 1.44144 10.1344 1.66176L10.0711 1.67347C9.92114 1.70065 9.78295 1.77283 9.67494 1.88042C9.56694 1.98801 9.49422 2.12592 9.46646 2.27582L9.09615 4.27738C8.25448 4.5962 7.47068 5.05064 6.77584 5.62269L4.8563 4.94066C4.71279 4.8899 4.55722 4.88401 4.41028 4.92379C4.26333 4.96356 4.13197 5.0471 4.03365 5.16332L3.99146 5.21254C3.17993 6.16908 2.54718 7.26387 2.12349 8.44457L2.1024 8.50551C1.99693 8.79847 2.08365 9.1266 2.32037 9.33051L3.87427 10.6571C3.80162 11.0977 3.76646 11.5477 3.76646 11.9953C3.76646 12.4453 3.80162 12.8953 3.87427 13.3336L2.32037 14.6602C2.20457 14.7593 2.1217 14.8913 2.08277 15.0387C2.04383 15.1861 2.05068 15.3418 2.1024 15.4852L2.12349 15.5461C2.54771 16.7274 3.17583 17.8172 3.99146 18.7782L4.03365 18.8274C4.13221 18.9433 4.26358 19.0266 4.41043 19.0663C4.55729 19.1061 4.71274 19.1004 4.8563 19.05L6.77584 18.368C7.47427 18.9422 8.25474 19.3969 9.09615 19.7133L9.46646 21.7149C9.49422 21.8648 9.56694 22.0027 9.67494 22.1103C9.78295 22.2179 9.92114 22.29 10.0711 22.3172L10.1344 22.3289C11.3667 22.5504 12.6287 22.5504 13.861 22.3289L13.9243 22.3172C14.0743 22.29 14.2125 22.2179 14.3205 22.1103C14.4285 22.0027 14.5012 21.8648 14.529 21.7149L14.8969 19.7227C15.745 19.4048 16.5346 18.9486 17.2336 18.3727L19.1391 19.05C19.2826 19.1008 19.4382 19.1067 19.5851 19.0669C19.7321 19.0271 19.8634 18.9436 19.9618 18.8274L20.004 18.7782C20.8196 17.8149 21.4477 16.7274 21.8719 15.5461L21.893 15.4852C21.9985 15.1969 21.9118 14.8688 21.6751 14.6649ZM18.4758 10.9196C18.5344 11.2735 18.5649 11.6368 18.5649 12C18.5649 12.3633 18.5344 12.7266 18.4758 13.0805L18.3211 14.0203L20.0719 15.518C19.8065 16.1295 19.4715 16.7083 19.0735 17.243L16.8985 16.4719L16.1626 17.0766C15.6024 17.536 14.979 17.8969 14.304 18.15L13.411 18.4852L12.9915 20.7586C12.3295 20.8336 11.6612 20.8336 10.9993 20.7586L10.5797 18.4805L9.6938 18.1407C9.02584 17.8875 8.40474 17.5266 7.84927 17.0696L7.11334 16.4625L4.92427 17.2407C4.52584 16.7039 4.19302 16.125 3.92583 15.5157L5.69537 14.0039L5.54302 13.0664C5.48677 12.7172 5.4563 12.3563 5.4563 12C5.4563 11.6414 5.48443 11.2828 5.54302 10.9336L5.69537 9.99613L3.92583 8.48441C4.19068 7.87269 4.52584 7.29613 4.92427 6.75941L7.11334 7.53754L7.84927 6.93051C8.40474 6.47347 9.02584 6.11254 9.6938 5.85941L10.5821 5.52426L11.0016 3.24613C11.6602 3.17113 12.3329 3.17113 12.9938 3.24613L13.4133 5.51957L14.3063 5.85472C14.979 6.10785 15.6047 6.46879 16.1649 6.92816L16.9008 7.53285L19.0758 6.76175C19.4743 7.29847 19.8071 7.87738 20.0743 8.48676L18.3235 9.98441L18.4758 10.9196ZM12.0001 7.64066C9.72193 7.64066 7.87505 9.48754 7.87505 11.7657C7.87505 14.0438 9.72193 15.8907 12.0001 15.8907C14.2782 15.8907 16.1251 14.0438 16.1251 11.7657C16.1251 9.48754 14.2782 7.64066 12.0001 7.64066ZM13.8563 13.6219C13.6128 13.8661 13.3235 14.0597 13.0049 14.1916C12.6864 14.3236 12.3449 14.3912 12.0001 14.3907C11.2993 14.3907 10.6407 14.1164 10.1438 13.6219C9.89964 13.3784 9.70602 13.0891 9.57409 12.7705C9.44216 12.452 9.37452 12.1105 9.37505 11.7657C9.37505 11.0649 9.64927 10.4063 10.1438 9.90941C10.6407 9.41254 11.2993 9.14066 12.0001 9.14066C12.7008 9.14066 13.3594 9.41254 13.8563 9.90941C14.1005 10.1529 14.2941 10.4422 14.426 10.7608C14.5579 11.0793 14.6256 11.4209 14.6251 11.7657C14.6251 12.4664 14.3508 13.125 13.8563 13.6219Z"})))}var g,v=a.forwardRef(p),_=(n.p,n(75),function(e){var t=e.className,n=e.children,r=Object(b.a)(e,["className","children"]);return Object(j.jsx)("button",Object(c.a)(Object(c.a)({},r),{},{className:"".concat(t?"transparent-button ".concat(t):"transparent-button"),children:n}))}),x=n(27),w=n(2),C=n.n(w),y=n(6);!function(e){e.SET_USER_DATA="SET_USER_DATA",e.SET_IS_AUTH="SET_IS_AUTH"}(g||(g={}));var S,k=n(41),N=n.n(k),E="http://api.bookroll.xyz/v1/",L=null===(S=JSON.parse(localStorage.getItem("userData")||"{}"))||void 0===S?void 0:S.url,A=function(e){L=e},I=N.a.create({withCredentials:!0,baseURL:E});I.interceptors.response.use((function(e){return e}),function(){var e=Object(y.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,401!=t.response.status||!t.config||t.config._isRetry){e.next=15;break}return n._isRetry=!0,e.prev=3,e.next=6,N.a.post(E+"auth/refresh",{userUrl:L},{withCredentials:!0});case 6:return r=e.sent,I.defaults.headers.common.Authorization="Bearer ".concat(r.headers["x-access-token"]),n.headers.Authorization="Bearer ".concat(r.headers["x-access-token"]),e.abrupt("return",I.request(n));case 12:e.prev=12,e.t0=e.catch(3),console.log("Not Authorized");case 15:throw t;case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}());var T,R=I,D={login:function(){var e=Object(y.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.post("auth/login",{email:t,password:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get("auth/logout"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),register:function(){var e=Object(y.a)(C.a.mark((function e(t,n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.post("auth/register",{username:t,email:n,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},M=D,B="club/",P={getClubProfileInfo:function(e){return R.get(B+e+"/info")},createClub:function(e){return R.post("club/create",{clubname:e})},joinClub:function(e){return R.post(B+e+"/join")},leaveClub:function(e){return R.post(B+e+"/leave")},getClubBooks:function(e){return R.get(B+e+"/books")},deleteClubBook:function(e,t,n){return R.post(B+e+"/deleteBook",{userUrl:t,index:n})},getSettingsInfo:function(e){return R.get("".concat(B).concat(e,"/settingsInfo"))},updateSettings:function(e,t,n,r){return R.post("".concat(B).concat(e,"/updateSettings"),{clubname:t,masterUrl:n,rules:r})},confirmBook:function(e,t){return R.post("".concat(B).concat(e,"/confirmBook"),{book:t})},getChosenBooksHistory:function(e){return R.get("".concat(B).concat(e,"/history"))},getClubMembers:function(e){return R.get("".concat(B).concat(e,"/members"))},getClubRules:function(e){return R.get("".concat(B).concat(e,"/rules"))}};!function(e){e.SET_LOADING_PAGE_FALSE="SET_LOADING_PAGE_FALSE",e.SET_LOADING_PAGE_TRUE="SET_LOADING_PAGE_TRUE"}(T||(T={}));var U,F={setLoadingPageTrue:function(){return{type:T.SET_LOADING_PAGE_TRUE,payload:!0}},setLoadingPageFalse:function(){return{type:T.SET_LOADING_PAGE_FALSE,payload:!1}}};!function(e){e.SET_THEME="SET_THEME"}(U||(U={}));var H,W={setTheme:function(e){return{type:U.SET_THEME,payload:e}}},G={setIsAuth:function(e){return{type:g.SET_IS_AUTH,payload:e}},setUserData:function(e){return{type:g.SET_USER_DATA,payload:e}},login:function(e,t){return function(){var n=Object(y.a)(C.a.mark((function n(r){var a;return C.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,M.login(e,t);case 3:a=n.sent,localStorage.setItem("isAuth",JSON.stringify(!0)),r(G.setIsAuth(!0)),localStorage.setItem("userData",JSON.stringify(a.data)),r(G.setUserData(a.data)),A(a.data.url),R.defaults.headers.common.Authorization="Bearer ".concat(a.headers["x-access-token"]),n.next=15;break;case 12:throw n.prev=12,n.t0=n.catch(0),n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.logout();case 3:localStorage.removeItem("isAuth"),t(G.setIsAuth(!1)),localStorage.removeItem("userData"),t(G.setUserData(null)),localStorage.setItem("themeStyle","light"),t(W.setTheme("light")),document.body.classList.remove("dark"),R.defaults.headers.common.Authorization="",A(""),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}()},joinClub:function(e){return function(){var t=Object(y.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F.setLoadingPageTrue()),t.prev=1,t.next=4,P.joinClub(e);case 4:r=t.sent,localStorage.setItem("userData",JSON.stringify(r.data)),n(G.setUserData(r.data)),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(1),t.t0;case 12:return t.prev=12,n(F.setLoadingPageFalse()),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},leaveClub:function(e){return function(){var t=Object(y.a)(C.a.mark((function t(n){var r;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(F.setLoadingPageTrue()),t.prev=1,t.next=4,P.leaveClub(e);case 4:r=t.sent,localStorage.setItem("userData",JSON.stringify(r.data)),n(G.setUserData(r.data)),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(1),t.t0;case 12:return t.prev=12,n(F.setLoadingPageFalse()),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()}};!function(e){e.SET_NOTIFICATION="SET_NOTIFICATION",e.DELETE_NOTIFICATION="DELETE_NOTIFICATION"}(H||(H={}));var X,V={setNotification:function(e){return{type:H.SET_NOTIFICATION,payload:e}},deleteNotification:function(e){return{type:H.DELETE_NOTIFICATION,payload:e}},addNotification:function(e,t){return function(n){var r={message:e,notificationType:t,id:Date.now()};n(V.setNotification(r)),setTimeout((function(){n(V.deleteNotification(r.id))}),2e3)}}};!function(e){e.SHOW_MODAL="SHOW_MODAL",e.CLOSE_MODAL="CLOSE_MODAL"}(X||(X={}));var Y,Z={showModal:function(e){return{type:X.SHOW_MODAL,payload:e}},closeModal:function(){return{type:X.CLOSE_MODAL,payload:!1}}};!function(e){e.SET_LOADING_TAB_FALSE="SET_LOADING_TAB_FALSE",e.SET_LOADING_TAB_TRUE="SET_LOADING_TAB_TRUE"}(Y||(Y={}));var z,K={setLoadingTabTrue:function(){return{type:Y.SET_LOADING_TAB_TRUE,payload:!0}},setLoadingTabFalse:function(){return{type:Y.SET_LOADING_TAB_FALSE,payload:!1}}};!function(e){e.SET_LOADING_MODAL_FALSE="SET_LOADING_MODAL_FALSE",e.SET_LOADING_MODAL_TRUE="SET_LOADING_MODAL_TRUE"}(z||(z={}));var q,J={setLoadingModalTrue:function(){return{type:z.SET_LOADING_MODAL_TRUE,payload:!0}},setLoadingModalFalse:function(){return{type:z.SET_LOADING_MODAL_FALSE,payload:!1}}};!function(e){e.SET_LOADING_POST_FALSE="SET_LOADING_POST_FALSE",e.SET_LOADING_POST_TRUE="SET_LOADING_POST_TRUE"}(q||(q={}));var $,Q={setLoadingPostTrue:function(){return{type:q.SET_LOADING_POST_TRUE,payload:!0}},setLoadingPostFalse:function(){return{type:q.SET_LOADING_POST_FALSE,payload:!1}}};!function(e){e.SHOW_BUBBLE="SHOW_BUBBLE",e.CLOSE_BUBBLE="CLOSE_BUBBLE"}($||($={}));var ee={showBubble:function(e,t){return t?{type:$.SHOW_BUBBLE,payload:{reactComponent:e,wrapperClass:t}}:{type:$.SHOW_BUBBLE,payload:{reactComponent:e,wrapperClass:null}}},closeBubble:function(){return{type:$.CLOSE_BUBBLE,payload:!1}}},te=Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({},G),V),W),Z),K),F),J),Q),ee),ne=function(){var e=Object(u.b)();return Object(x.bindActionCreators)(te,e)},re=n(11),ae=(n(94),Object(a.forwardRef)((function(e,t){return Object(j.jsx)("input",Object(c.a)(Object(c.a)({},e),{},{ref:t,className:"".concat(e.className?"input-text "+e.className:"input-text")}))}))),ie=(n(95),function(e){var t=e.className,n=e.children,r=Object(b.a)(e,["className","children"]);return Object(j.jsx)("button",Object(c.a)(Object(c.a)({type:"submit"},r),{},{className:"".concat(t?"submit-button "+t:"submit-button"),children:n}))}),se=(n(96),Object(a.forwardRef)((function(e,t){var n=e.className,r=Object(b.a)(e,["className"]),a=n?"input-color ".concat(n):"input-color";return Object(j.jsx)("input",Object(c.a)(Object(c.a)({},r),{},{type:"color",className:a}))}))),ce=n(61),oe=(n(102),function(e){var t=e.emoji,n=e.setEmoji,r=(Object(b.a)(e,["emoji","setEmoji"]),d((function(e){return e.theme.themeStyle}))),i=Object(a.useState)(!1),s=Object(h.a)(i,2),o=s[0],l=s[1],u={native:!0,onSelect:function(e){l(!1),n(e.native)},exclude:["flags","custom","recent"],theme:r,showPreview:!1,showSkinTones:!1,color:"var(--accent-color)",perLine:7};return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsxs)("div",{className:"emoji-button",children:[Object(j.jsx)(_,{className:"emoji-button__button",type:"button",onClick:function(){return l((function(e){return!e}))},children:t}),Object(j.jsx)("div",{className:o?"picker-container":"hidden",children:Object(j.jsx)(ce.a,Object(c.a)({},u))})]}),o&&Object(j.jsx)("div",{className:"emoji-button__bg",onClick:function(){return l(!1)}})]})}),le=(n(103),function(e){var t=ne(),n=t.setLoadingTabTrue,r=t.setLoadingTabFalse,a=t.setLoadingPageTrue,i=t.setLoadingPageFalse,s=t.setLoadingPostTrue,c=t.setLoadingPostFalse,o=t.setLoadingModalTrue,l=t.setLoadingModalFalse;switch(e){case"Page":return{methodTrue:a,methodFalse:i};case"Modal":return{methodTrue:o,methodFalse:l};case"Post":return{methodTrue:s,methodFalse:c};case"Tab":return{methodTrue:n,methodFalse:r}}});var ue,de=function(e,t){var n=ne().addNotification,r=le(e);return function(){var e=Object(y.a)(C.a.mark((function e(a){var i,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.methodTrue(),e.next=4,t(a);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),n((null===(i=JSON.parse(null===(s=e.t0.request)||void 0===s?void 0:s.response))||void 0===i?void 0:i.message)||(null===(c=JSON.parse(null===(o=e.t0.response)||void 0===o?void 0:o.response))||void 0===c?void 0:c.message)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435","error");case 9:return e.prev=9,r.methodFalse(),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t){return e.apply(this,arguments)}}()},he="user/",be={getUserProfileInfo:function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get(he+t+"/info"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserBooks:function(){var e=Object(y.a)(C.a.mark((function e(t,n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get("".concat(he).concat(t,"/books?page=").concat(n,"&size=").concat(r)));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deleteBook:function(){var e=Object(y.a)(C.a.mark((function e(t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.post("".concat(he).concat(t,"/deleteBook"),{index:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),updateInfo:function(){var e=Object(y.a)(C.a.mark((function e(t,n,r,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.post("".concat(he).concat(t,"/updateInfo"),{username:n,color:r,emoji:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),getAccountInfo:function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get("".concat(he).concat(t,"/accountInfo")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePassword:function(){var e=Object(y.a)(C.a.mark((function e(t,n,r){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.post("".concat(he).concat(t,"/updatePassword"),{oldPassword:n,newPassword:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},je=be,fe=function(e){var t=ne(),n=t.setUserData,r=t.closeModal,i=Object(a.useState)(e||"\ud83d\ude0e"),s=Object(h.a)(i,2),c=s[0],o=s[1],l=ne().addNotification,u=de("Page",function(){var e=Object(y.a)(C.a.mark((function e(t){var a,i,s,c,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userUrl,i=t.username,s=t.color,c=t.emoji,e.next=3,je.updateInfo(a,i,s,c);case 3:o=e.sent,l("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b","success"),localStorage.setItem("userData",JSON.stringify(o.data)),n(o.data),r();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return{updateInfo:u,chosenEmoji:c,setEmoji:function(e){o(e)}}},me=function(e){var t=e.username,n=e.color,r=e.emoji,a=e.userUrl,i=(Object(b.a)(e,["username","color","emoji","userUrl"]),fe(r)),s=i.updateInfo,o=i.chosenEmoji,l=i.setEmoji,u=Object(re.b)(),d=u.control,h=u.handleSubmit,f=u.formState.errors;return Object(j.jsxs)("form",{className:"user-settings-info-form",onSubmit:h((function(e){return s({userUrl:a,username:e.username,color:e.color,emoji:o})})),children:[Object(j.jsxs)("div",{className:"user-settings-info-form__container",children:[Object(j.jsxs)("fieldset",{className:"user-settings-info-form__group",children:[Object(j.jsx)("label",{className:"user-settings-info-form__label",htmlFor:"username",children:"\u0418\u043c\u044f"}),Object(j.jsx)(re.a,{name:"username",control:d,defaultValue:t||"username",rules:{required:!0},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)({},t))}}),f.username&&Object(j.jsx)("div",{className:"user-settings-info-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"})]}),Object(j.jsxs)("fieldset",{className:"user-settings-info-form__group",children:[Object(j.jsx)("span",{className:"user-settings-info-form__label",children:"\u042d\u043c\u043e\u0434\u0437\u0438"}),Object(j.jsx)(oe,{emoji:o,setEmoji:l})]}),Object(j.jsxs)("fieldset",{className:"user-settings-info-form__group",children:[Object(j.jsx)("label",{className:"user-settings-info-form__label",htmlFor:"color",children:"\u0426\u0432\u0435\u0442"}),Object(j.jsx)(re.a,{name:"color",control:d,defaultValue:n||"#FFF",rules:{required:!0},render:function(e){var t=e.field;return Object(j.jsx)(se,Object(c.a)({},t))}})]})]}),Object(j.jsx)("div",{className:"user-settings-info-form__button",children:Object(j.jsx)(ie,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},Oe=function(e){var t=Object(a.useState)({username:"",color:"",emoji:"",clubname:"",clubUrl:""}),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Modal",Object(y.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getUserProfileInfo(e);case 2:n=t.sent,i(n.data),l(!0);case 5:case"end":return t.stop()}}),t)}))));return Object(a.useEffect)((function(){u({})}),[]),{userInfo:r,isLoaded:o}},pe=(n(104),function(){return Object(j.jsxs)("div",{className:"loader",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),ge=(n(105),function(){return Object(j.jsx)("div",{className:"page-loader",children:Object(j.jsx)(pe,{})})}),ve=(n(106),function(e){var t=e.userUrl,n=(Object(b.a)(e,["userUrl"]),Oe(t)),r=n.userInfo;return n.isLoaded?Object(j.jsx)(me,{username:r.username,color:r.color,emoji:r.emoji,userUrl:t||""}):Object(j.jsx)("div",{className:"user-settings-info__loader",children:Object(j.jsx)(ge,{})})}),_e=function(e){var t=e.email;Object(b.a)(e,["email"]);return Object(j.jsx)("div",{children:t})},xe=(n(107),{EMAIL_MAX_LENGTH:264,PASSWORD_MIN_LENGTH:8,USERNAME_MAX_LENGTH:18,USERNAME_MIN_LENGTH:3,CLUBNAME_MAX_LENGTH:18,CLUBNAME_MIN_LENGTH:3}),we=function(e){var t,n,r,a,i,s,o=e.userUrl,l=(Object(b.a)(e,["userUrl"]),ne().addNotification),u=Object(re.b)(),d=u.handleSubmit,h=u.control,f=u.formState.errors,m=u.getValues,O=u.resetField,p=de("Post",function(){var e=Object(y.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.oldPassword,r=t.newPassword,e.next=3,je.updatePassword(o,n,r);case 3:"Success"===e.sent.data&&l("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d","success");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g=function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({oldPassword:t.oldPassword,newPassword:t.newPassword});case 2:O("oldPassword"),O("newPassword"),O("newPasswordRepeat");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"user-settings-password-form",onSubmit:d(g),children:[Object(j.jsxs)("div",{className:"user-settings-password-form__inputs-group",children:[Object(j.jsx)(re.a,{name:"oldPassword",control:h,defaultValue:"",rules:{required:!0,minLength:xe.PASSWORD_MIN_LENGTH},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({},t),{},{className:"user-settings-password-form__input",placeholder:"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}))}}),"required"===(null===(t=f.oldPassword)||void 0===t?void 0:t.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0430\u0440\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),"minLength"===(null===(n=f.oldPassword)||void 0===n?void 0:n.type)&&Object(j.jsxs)("div",{className:"register-form__error",children:["\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 ",xe.USERNAME_MIN_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]})]}),Object(j.jsxs)("div",{className:"user-settings-password-form__inputs-group",children:[Object(j.jsx)(re.a,{name:"newPassword",control:h,defaultValue:"",rules:{required:!0,minLength:xe.PASSWORD_MIN_LENGTH},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({},t),{},{className:"user-settings-password-form__input",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}))}}),"required"===(null===(r=f.newPassword)||void 0===r?void 0:r.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),"minLength"===(null===(a=f.newPassword)||void 0===a?void 0:a.type)&&Object(j.jsxs)("div",{className:"register-form__error",children:["\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 ",xe.USERNAME_MIN_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]})]}),Object(j.jsxs)("div",{className:"user-settings-password-form__inputs-group",children:[Object(j.jsx)(re.a,{name:"newPasswordRepeat",control:h,defaultValue:"",rules:{required:!0,validate:function(e){return e===m().newPassword||"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c"}},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({},t),{},{className:"user-settings-password-form__input",placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"password"}))}}),"required"===(null===(i=f.newPasswordRepeat)||void 0===i?void 0:i.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),"validate"===(null===(s=f.newPasswordRepeat)||void 0===s?void 0:s.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c"})]}),Object(j.jsx)("div",{className:"user-settings-password-form__button",children:Object(j.jsx)(ie,{children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})})]})},Ce=(n(108),function(e){var t=Object(a.useState)({email:""}),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Modal",function(){var e=Object(y.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getAccountInfo(t);case 2:n=e.sent,i(n.data),l(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){u(e)}),[]),{accountInfo:r,isLoaded:o}}),ye=function(e){var t=e.userUrl,n=(Object(b.a)(e,["userUrl"]),Ce(t)),r=n.accountInfo;return n.isLoaded?Object(j.jsxs)("div",{className:"user-settings-account",children:[Object(j.jsxs)("div",{className:"user-settings-account__group",children:[Object(j.jsx)("h2",{className:"user-settings-account__label",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(j.jsx)(_e,{email:r.email})]}),Object(j.jsxs)("div",{className:"user-settings-account__group",children:[Object(j.jsx)("h2",{className:"user-settings-account__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(j.jsx)(we,{userUrl:t||""})]})]}):Object(j.jsx)("div",{className:"user-settings-account__loader",children:Object(j.jsx)(ge,{})})},Se=(n(109),function(e){var t=e.name,n=e.className,r=Object(b.a)(e,["name","className"]),a=n?"settings-tab-button ".concat(n):"settings-tab-button";return Object(j.jsx)("button",Object(c.a)(Object(c.a)({className:a,type:"button"},r),{},{children:Object(j.jsx)("span",{children:t})}))});n(110);!function(e){e.INFO="info",e.ACCOUNT="account"}(ue||(ue={}));var ke=function(){var e=Object(o.g)().pathname,t=e.substring(e.lastIndexOf("/")-12,e.lastIndexOf("/")),n=Object(a.useState)(ue.INFO),r=Object(h.a)(n,2),i=r[0],s=r[1],l=[{name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",onClick:function(){return s(ue.INFO)},className:i===ue.INFO?"settings-tab-button--active":""},{name:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",onClick:function(){return s(ue.ACCOUNT)},className:i===ue.ACCOUNT?"settings-tab-button--active":""}];return Object(j.jsx)("div",{className:"user-settings",children:Object(j.jsxs)("div",{className:"user-settings__content",children:[Object(j.jsx)("div",{className:"user-settings__title",children:Object(j.jsx)("h1",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(j.jsx)("nav",{className:"user-settings__tabs",children:l.map((function(e){return Object(j.jsx)(Se,Object(c.a)({},e),"user-settings-".concat(e.name))}))}),Object(j.jsxs)("div",{className:"user-settings__container",children:["info"===i&&Object(j.jsx)(ve,{userUrl:t}),"account"===i&&Object(j.jsx)(ye,{userUrl:t})]})]})})},Ne=function(e){var t=e.isCurrentUser,n=(Object(b.a)(e,["isCurrentUser"]),ne().showModal);return Object(j.jsx)("div",{className:"user-header-buttons",children:t&&Object(j.jsxs)(_,{className:"user-header-buttons__button transparent-button--dim",onClick:function(){n(Object(j.jsx)(ke,{}))},children:[Object(j.jsx)(v,{}),Object(j.jsx)("span",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]})})},Ee=n(10),Le=(n(111),function(){var e,t,n,r=ne(),a=r.setUserData,i=r.closeModal,s=Object(re.b)(),o=s.control,l=s.handleSubmit,u=s.formState.errors,d=de("Page",function(){var e=Object(y.a)(C.a.mark((function e(t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clubname,e.next=3,P.createClub(n);case 3:r=e.sent,localStorage.setItem("userData",JSON.stringify(r.data)),a(r.data),i();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(j.jsxs)("div",{className:"create-club-form",children:[Object(j.jsx)("h1",{className:"create-club-form__title",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0443\u0431"}),Object(j.jsxs)("form",{onSubmit:l((function(e){return d({clubname:e.clubname})})),children:[Object(j.jsxs)("div",{className:"create-club-form__group",children:[Object(j.jsx)(re.a,{name:"clubname",control:o,defaultValue:"",rules:{required:!0,minLength:xe.CLUBNAME_MIN_LENGTH,maxLength:xe.CLUBNAME_MAX_LENGTH},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({},t),{},{placeholder:"\u0418\u043c\u044f \u043a\u043b\u0443\u0431\u0430"}))}}),"required"===(null===(e=u.clubname)||void 0===e?void 0:e.type)&&Object(j.jsx)("div",{className:"club-settings-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043b\u0443\u0431\u0430"}),"minLength"===(null===(t=u.clubname)||void 0===t?void 0:t.type)&&Object(j.jsxs)("div",{className:"club-settings-form__error",children:["\u0418\u043c\u044f \u043a\u043b\u0443\u0431\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043a\u043e\u0440\u043e\u0447\u0435 ",xe.CLUBNAME_MIN_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]}),"maxLength"===(null===(n=u.clubname)||void 0===n?void 0:n.type)&&Object(j.jsxs)("div",{className:"club-settings-form__error",children:["\u0418\u043c\u044f \u043a\u043b\u0443\u0431\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0434\u043b\u0438\u043d\u0435\u0435 ",xe.CLUBNAME_MAX_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]})]}),Object(j.jsx)(ie,{className:"create-club-form__button",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0443\u0431"})]})]})}),Ae=(n(112),function(e){var t=e.isCurrentUser,n=e.clubname,r=e.clubUrl,i=(Object(b.a)(e,["isCurrentUser","clubname","clubUrl"]),ne().showModal);return Object(j.jsxs)("div",{className:"user-header-club",children:[t&&Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)("div",{className:"user-header-club__container user-header-club__description",children:Object(j.jsx)("p",{children:n&&r?"\u0412\u044b \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0435 \u0432 \u043a\u043b\u0443\u0431\u0435\xa0":"\u0412\u044b \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0435 \u0432 \u043a\u043b\u0443\u0431\u0435, \u043d\u043e \u043c\u043e\u0436\u0435\u0442\u0435\xa0"})}),n&&r?Object(j.jsx)("div",{className:"user-header-club__container user-header-club__name",children:Object(j.jsx)(Ee.b,{to:"/club/".concat(r),children:n})}):Object(j.jsx)("div",{className:"user-header-club__container",children:Object(j.jsx)(_,{onClick:function(){i(Object(j.jsx)(Le,{}))},children:"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043b\u0443\u0431"})})]}),!t&&Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)("div",{className:"user-header-club__container user-header-club__description",children:Object(j.jsx)("p",{children:n&&r?"\u0421\u043e\u0441\u0442\u043e\u0438\u0442 \u0432 \u043a\u043b\u0443\u0431\u0435\xa0":"\u041d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u043d\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c \u043a\u043b\u0443\u0431\u0435\xa0"})}),n&&r&&Object(j.jsx)("div",{className:"user-header-club__container user-header-club__name",children:Object(j.jsx)(Ee.b,{to:"/club/".concat(r),children:n})})]})]})}),Ie=(n(113),n(114),function(e){var t=e.color,n=e.emoji,r=e.className,a=(Object(b.a)(e,["color","emoji","className"]),{backgroundColor:t||"FFF"}),i=r?"avatar ".concat(r):"avatar";return Object(j.jsx)("figure",{className:i,children:Object(j.jsx)("div",{className:"avatar__background",style:a,children:Object(j.jsx)("span",{className:"avatar__emoji",children:n})})})}),Te=function(e,t){var n=d((function(e){return e.auth.userData})),r=Object(a.useState)({username:null,color:null,emoji:null,clubname:null,clubUrl:null}),i=Object(h.a)(r,2),s=i[0],c=i[1],o=de("Page",function(){var e=Object(y.a)(C.a.mark((function e(n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.getUserProfileInfo(n);case 2:r=e.sent,c(r.data),t();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){o(e)}),[n]),{userInfo:s}},Re=n(22),De=function(e){var t=e.userUrl,n=e.setIsLoaded,r=e.isCurrentUser,i=(Object(b.a)(e,["userUrl","setIsLoaded","isCurrentUser"]),Te(t,n).userInfo);return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Re.a,{children:Object(j.jsxs)("title",{children:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c ",i.username||""]})}),Object(j.jsxs)("section",{className:"user-profile-header",children:[Object(j.jsxs)("div",{className:"user-profile-header__title-container",children:[Object(j.jsx)("div",{className:"user-profile-header__avatar",children:Object(j.jsx)(Ie,{emoji:i.emoji,color:i.color,className:"avatar--big"})}),Object(j.jsx)(f,{title:i.username||""})]}),Object(j.jsx)(Ne,{isCurrentUser:r}),Object(j.jsx)(Ae,{clubUrl:i.clubUrl,clubname:i.clubname,isCurrentUser:r})]})]})},Me=(n(115),function(e){var t=Object(o.h)(e.path);return Object(j.jsx)("div",{className:"tab-button".concat(t?" tab-button--active":""),children:Object(j.jsxs)(Ee.b,{to:e.path,children:[Object(j.jsx)("span",{children:e.name}),e.counter]})})}),Be=(n(116),function(e){var t=e.tabsData,n=d((function(e){return e.loadingTab.isLoadingTab}))?"profile-tabs profile-tabs--loading":"profile-tabs profile-tabs--loaded";return Object(j.jsx)("nav",{className:n,children:Object(j.jsx)("div",{className:"profile-tabs__wrapper",children:t.map((function(t){return Object(j.jsx)(Me,{name:t.name,path:t.path,counter:t.counter},"".concat(e.url,"-").concat(t.path))}))})})}),Pe=(n(117),function(){var e=Object(o.g)(),t=Object(o.k)().userUrl,n=Object(a.useState)(!1),i=Object(h.a)(n,2),s=i[0],c=i[1],l=d((function(e){var n;return(null===(n=e.auth.userData)||void 0===n?void 0:n.url)===t})),u=[{name:"\u041a\u043d\u0438\u0433\u0438",path:"".concat(r.USER_PROFILE_BASE).concat(t,"/").concat(r.USER_PROFILE_BOOKS)},{name:"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0438",path:"".concat(r.USER_PROFILE_BASE).concat(t,"/").concat(r.USER_PROFILE_REVIEWS)}];return u.map((function(e){return e.path})).some((function(t){return t===e.pathname}))?Object(j.jsxs)("div",{className:s?"user-profile-page":"user-profile-page user-profile-page--loading",children:[!s&&Object(j.jsx)(ge,{}),Object(j.jsx)(De,{isCurrentUser:l,userUrl:t||"",setIsLoaded:function(){c(!0)}}),Object(j.jsx)(Be,{tabsData:u,url:t}),Object(j.jsx)("section",{className:"user-profile-page__content",children:Object(j.jsx)(o.b,{context:{isCurrentUser:l,userUrl:t}})})]}):Object(j.jsx)(o.a,{to:"".concat(r.USER_PROFILE_BASE).concat(t,"/").concat(r.USER_PROFILE_BOOKS),replace:!0})});n(118);var Ue,Fe=function(e){var t,n=ne(),r=n.login,a=n.addNotification,i=Object(re.b)(),s=i.control,o=i.handleSubmit,l=i.formState.errors,u=function(){var e=Object(y.a)(C.a.mark((function e(t){var n,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(t.email,t.password);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),a((null===(n=e.t0.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430","error");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("form",{className:"login-form",onSubmit:o(u),children:[Object(j.jsxs)("div",{className:"login-form__input-group",children:[Object(j.jsx)(re.a,{name:"email",control:s,defaultValue:"",rules:{required:!0},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({placeholder:"\u041f\u043e\u0447\u0442\u0430",className:"login-form__input"},t),{},{type:"email"}))}}),l.email&&Object(j.jsx)("div",{className:"login-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"})]}),Object(j.jsxs)("div",{className:"login-form__input-group",children:[Object(j.jsx)(re.a,{name:"password",defaultValue:"",rules:{required:!0},control:s,render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"login-form__input"},t),{},{type:"password"}))}}),"required"===(null===(t=l.password)||void 0===t?void 0:t.type)&&Object(j.jsx)("div",{className:"login-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(j.jsx)(ie,{children:"\u0412\u043e\u0439\u0442\u0438"})]})},He=(n(119),function(e){return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Re.a,{children:Object(j.jsx)("title",{children:"\u0412\u0445\u043e\u0434"})}),Object(j.jsxs)("div",{className:"login-page",children:[Object(j.jsx)("h1",{className:"login-page__title",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(j.jsx)(Fe,{}),Object(j.jsx)(Ee.b,{className:"login-page__link",to:r.REGISTER,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})]})}),We=(n(120),function(){var e=Object(o.i)(),t=de("Post",function(){var t=Object(y.a)(C.a.mark((function t(n){var a,i,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.username,i=n.email,s=n.password,t.next=3,M.register(a,i,s);case 3:e(r.LOGIN);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return t}),Ge=function(e){var t,n,r,a,i,s,o,l=We(),u=Object(re.b)(),d=u.control,h=u.handleSubmit,b=u.formState.errors,f=u.getValues;return Object(j.jsxs)("form",{className:"register-form",onSubmit:h((function(e){return l({username:e.username,email:e.email,password:e.password})})),children:[Object(j.jsxs)("div",{className:"register-form__input-group",children:[Object(j.jsx)(re.a,{name:"username",control:d,defaultValue:"",rules:{required:!0,minLength:xe.USERNAME_MIN_LENGTH,maxLength:xe.USERNAME_MAX_LENGTH},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({placeholder:"\u0418\u043c\u044f",className:"register-form__input"},t),{},{type:"text"}))}}),"required"===(null===(t=b.username)||void 0===t?void 0:t.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f"}),"minLength"===(null===(n=b.username)||void 0===n?void 0:n.type)&&Object(j.jsxs)("div",{className:"register-form__error",children:["\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 ",xe.USERNAME_MIN_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]}),"maxLength"===(null===(r=b.username)||void 0===r?void 0:r.type)&&Object(j.jsxs)("div",{className:"register-form__error",children:["\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u043e\u0447\u0435 ",xe.USERNAME_MAX_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]})]}),Object(j.jsxs)("div",{className:"register-form__input-group",children:[Object(j.jsx)(re.a,{name:"email",control:d,defaultValue:"",rules:{required:!0},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({placeholder:"\u041f\u043e\u0447\u0442\u0430",className:"register-form__input"},t),{},{type:"email"}))}}),b.email&&Object(j.jsx)("div",{className:"register-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443"})]}),Object(j.jsxs)("div",{className:"register-form__input-group",children:[Object(j.jsx)(re.a,{name:"password",defaultValue:"",rules:{required:!0,minLength:8},control:d,render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"register-form__input"},t),{},{type:"password"}))}}),"required"===(null===(a=b.password)||void 0===a?void 0:a.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),"minLength"===(null===(i=b.password)||void 0===i?void 0:i.type)&&Object(j.jsxs)("div",{className:"register-form__error",children:["\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435 ",xe.USERNAME_MIN_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]})]}),Object(j.jsxs)("div",{className:"register-form__input-group",children:[Object(j.jsx)(re.a,{name:"passwordRepeat",control:d,defaultValue:"",rules:{required:!0,validate:function(e){return e===f().password}},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)(Object(c.a)({placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",className:"register-form__input"},t),{},{type:"password"}))}}),"required"===(null===(s=b.passwordRepeat)||void 0===s?void 0:s.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),"validate"===(null===(o=b.passwordRepeat)||void 0===o?void 0:o.type)&&Object(j.jsx)("div",{className:"register-form__error",children:"\u041f\u0430\u0440\u043e\u043b\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0442\u044c"})]}),Object(j.jsx)(ie,{className:"register-form__button",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]})},Xe=(n(121),function(e){return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Re.a,{children:Object(j.jsx)("title",{children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),Object(j.jsxs)("div",{className:"register-page",children:[Object(j.jsx)("h1",{className:"register-page__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(j.jsx)(Ge,{}),Object(j.jsx)(Ee.b,{className:"register-page__link",to:r.LOGIN,children:"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"})]})]})}),Ve=function(e){var t=Object.assign({},e),n=Object(o.g)();return n.pathname.match("/.*/$")?Object(j.jsx)(o.a,Object(c.a)(Object(c.a)({replace:!0},t),{},{to:{pathname:n.pathname.replace(/\/+$/,""),search:n.search}})):null};function Ye(){return Ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ye.apply(this,arguments)}function Ze(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ze(e,t){var n=e.title,r=e.titleId,i=Ze(e,["title","titleId"]);return a.createElement("svg",Ye({width:86,height:86,viewBox:"0 0 86 86",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ue||(Ue=a.createElement("path",{d:"M14.3334 43C14.3334 43.9504 14.7109 44.8618 15.3829 45.5338C16.0549 46.2058 16.9663 46.5833 17.9167 46.5833H45.1142L36.8725 54.7892C36.5367 55.1223 36.2701 55.5186 36.0882 55.9553C35.9063 56.3919 35.8126 56.8603 35.8126 57.3333C35.8126 57.8064 35.9063 58.2747 36.0882 58.7114C36.2701 59.1481 36.5367 59.5444 36.8725 59.8775C37.2057 60.2133 37.602 60.4799 38.0386 60.6619C38.4753 60.8438 38.9437 60.9374 39.4167 60.9374C39.8897 60.9374 40.3581 60.8438 40.7948 60.6619C41.2314 60.4799 41.6278 60.2133 41.9609 59.8775L56.2942 45.5442C56.6204 45.2034 56.8762 44.8015 57.0467 44.3617C57.4051 43.4893 57.4051 42.5107 57.0467 41.6383C56.8762 41.1985 56.6204 40.7966 56.2942 40.4558L41.9609 26.1225C41.6268 25.7884 41.2301 25.5234 40.7936 25.3425C40.3571 25.1617 39.8892 25.0687 39.4167 25.0687C38.9442 25.0687 38.4763 25.1617 38.0398 25.3425C37.6033 25.5234 37.2066 25.7884 36.8725 26.1225C36.5384 26.4566 36.2734 26.8532 36.0926 27.2898C35.9118 27.7263 35.8187 28.1942 35.8187 28.6667C35.8187 29.1392 35.9118 29.607 36.0926 30.0436C36.2734 30.4801 36.5384 30.8767 36.8725 31.2108L45.1142 39.4167H17.9167C16.9663 39.4167 16.0549 39.7942 15.3829 40.4662C14.7109 41.1382 14.3334 42.0496 14.3334 43ZM60.9167 7.16666H25.0834C22.2323 7.16666 19.498 8.29924 17.482 10.3153C15.466 12.3313 14.3334 15.0656 14.3334 17.9167V28.6667C14.3334 29.617 14.7109 30.5285 15.3829 31.2005C16.0549 31.8725 16.9663 32.25 17.9167 32.25C18.8671 32.25 19.7785 31.8725 20.4505 31.2005C21.1225 30.5285 21.5 29.617 21.5 28.6667V17.9167C21.5 16.9663 21.8776 16.0549 22.5496 15.3829C23.2216 14.7109 24.133 14.3333 25.0834 14.3333H60.9167C61.8671 14.3333 62.7785 14.7109 63.4505 15.3829C64.1225 16.0549 64.5 16.9663 64.5 17.9167V68.0833C64.5 69.0337 64.1225 69.9451 63.4505 70.6171C62.7785 71.2891 61.8671 71.6667 60.9167 71.6667H25.0834C24.133 71.6667 23.2216 71.2891 22.5496 70.6171C21.8776 69.9451 21.5 69.0337 21.5 68.0833V57.3333C21.5 56.383 21.1225 55.4715 20.4505 54.7995C19.7785 54.1275 18.8671 53.75 17.9167 53.75C16.9663 53.75 16.0549 54.1275 15.3829 54.7995C14.7109 55.4715 14.3334 56.383 14.3334 57.3333V68.0833C14.3334 70.9344 15.466 73.6687 17.482 75.6847C19.498 77.7007 22.2323 78.8333 25.0834 78.8333H60.9167C63.7678 78.8333 66.5021 77.7007 68.5181 75.6847C70.5341 73.6687 71.6667 70.9344 71.6667 68.0833V17.9167C71.6667 15.0656 70.5341 12.3313 68.5181 10.3153C66.5021 8.29924 63.7678 7.16666 60.9167 7.16666Z"})))}var Ke,qe=a.forwardRef(ze),Je=(n.p,function(e){var t=e.children,n=ne().logout;return Object(j.jsxs)(_,{className:"transparent-button--main navbar__button navbar__logout",onClick:function(){return n()},children:[Object(j.jsx)(qe,{}),Object(j.jsx)("span",{children:t})]})});n(122);function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function et(e,t){var n=e.title,r=e.titleId,i=Qe(e,["title","titleId"]);return a.createElement("svg",$e({width:55,height:55,viewBox:"0 0 55 55",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ke||(Ke=a.createElement("path",{d:"M12.925 38.9583L11.298 40.5854C10.8711 41.0148 10.6316 41.5956 10.6316 42.2011C10.6316 42.8065 10.8711 43.3873 11.298 43.8167C11.7273 44.2435 12.3082 44.4831 12.9136 44.4831C13.519 44.4831 14.0998 44.2435 14.5292 43.8167L16.1563 42.1896C16.5317 41.7512 16.7279 41.1873 16.7056 40.6105C16.6834 40.0338 16.4443 39.4866 16.0361 39.0785C15.628 38.6704 15.0809 38.4313 14.5041 38.409C13.9274 38.3867 13.3634 38.5829 12.925 38.9583ZM11.4584 27.5C11.4584 26.8922 11.2169 26.3093 10.7872 25.8796C10.3574 25.4498 9.7745 25.2083 9.16671 25.2083H6.87504C6.26725 25.2083 5.68436 25.4498 5.25459 25.8796C4.82482 26.3093 4.58337 26.8922 4.58337 27.5C4.58337 28.1078 4.82482 28.6907 5.25459 29.1205C5.68436 29.5502 6.26725 29.7917 6.87504 29.7917H9.16671C9.7745 29.7917 10.3574 29.5502 10.7872 29.1205C11.2169 28.6907 11.4584 28.1078 11.4584 27.5ZM27.5 11.4583C28.1078 11.4583 28.6907 11.2169 29.1205 10.7871C29.5503 10.3574 29.7917 9.77446 29.7917 9.16668V6.87501C29.7917 6.26722 29.5503 5.68433 29.1205 5.25456C28.6907 4.82479 28.1078 4.58334 27.5 4.58334C26.8923 4.58334 26.3094 4.82479 25.8796 5.25456C25.4498 5.68433 25.2084 6.26722 25.2084 6.87501V9.16668C25.2084 9.77446 25.4498 10.3574 25.8796 10.7871C26.3094 11.2169 26.8923 11.4583 27.5 11.4583ZM12.925 16.1563C13.3519 16.5796 13.928 16.8183 14.5292 16.8208C14.8308 16.8226 15.1298 16.7648 15.409 16.6507C15.6882 16.5367 15.9422 16.3687 16.1563 16.1563C16.5831 15.7269 16.8227 15.1461 16.8227 14.5406C16.8227 13.9352 16.5831 13.3544 16.1563 12.925L14.5292 11.2979C14.0908 10.9225 13.5269 10.7263 12.9501 10.7486C12.3734 10.7709 11.8263 11.01 11.4181 11.4181C11.01 11.8262 10.7709 12.3733 10.7486 12.9501C10.7263 13.5269 10.9225 14.0908 11.298 14.5292L12.925 16.1563ZM40.425 16.8208C41.0262 16.8183 41.6024 16.5796 42.0292 16.1563L43.6563 14.5292C43.8962 14.3237 44.091 14.0709 44.2286 13.7866C44.3661 13.5023 44.4434 13.1926 44.4556 12.877C44.4678 12.5614 44.4146 12.2467 44.2994 11.9526C44.1842 11.6585 44.0094 11.3914 43.7861 11.1681C43.5628 10.9448 43.2957 10.77 43.0016 10.6548C42.7075 10.5396 42.3928 10.4864 42.0772 10.4986C41.7616 10.5108 41.4519 10.5881 41.1676 10.7256C40.8833 10.8632 40.6305 11.058 40.425 11.2979L38.9584 12.925C38.5316 13.3544 38.292 13.9352 38.292 14.5406C38.292 15.1461 38.5316 15.7269 38.9584 16.1563C39.3624 16.5581 39.9016 16.7951 40.4709 16.8208H40.425ZM48.125 25.2083H45.8334C45.2256 25.2083 44.6427 25.4498 44.2129 25.8796C43.7831 26.3093 43.5417 26.8922 43.5417 27.5C43.5417 28.1078 43.7831 28.6907 44.2129 29.1205C44.6427 29.5502 45.2256 29.7917 45.8334 29.7917H48.125C48.7328 29.7917 49.3157 29.5502 49.7455 29.1205C50.1753 28.6907 50.4167 28.1078 50.4167 27.5C50.4167 26.8922 50.1753 26.3093 49.7455 25.8796C49.3157 25.4498 48.7328 25.2083 48.125 25.2083ZM27.5 43.5417C26.8923 43.5417 26.3094 43.7831 25.8796 44.2129C25.4498 44.6427 25.2084 45.2256 25.2084 45.8333V48.125C25.2084 48.7328 25.4498 49.3157 25.8796 49.7455C26.3094 50.1752 26.8923 50.4167 27.5 50.4167C28.1078 50.4167 28.6907 50.1752 29.1205 49.7455C29.5503 49.3157 29.7917 48.7328 29.7917 48.125V45.8333C29.7917 45.2256 29.5503 44.6427 29.1205 44.2129C28.6907 43.7831 28.1078 43.5417 27.5 43.5417ZM42.075 38.9583C41.6397 38.7162 41.1372 38.6225 40.6438 38.6915C40.1504 38.7604 39.6929 38.9883 39.3406 39.3406C38.9883 39.6929 38.7605 40.1504 38.6915 40.6438C38.6225 41.1372 38.7162 41.6396 38.9584 42.075L40.5855 43.7021C41.0148 44.1289 41.5957 44.3685 42.2011 44.3685C42.8065 44.3685 43.3873 44.1289 43.8167 43.7021C44.2435 43.2727 44.4831 42.6919 44.4831 42.0865C44.4831 41.481 44.2435 40.9002 43.8167 40.4708L42.075 38.9583ZM27.5 14.8958C25.0072 14.8958 22.5703 15.6351 20.4975 17.02C18.4248 18.405 16.8093 20.3735 15.8553 22.6766C14.9013 24.9797 14.6517 27.514 15.1381 29.959C15.6244 32.4039 16.8248 34.6498 18.5875 36.4125C20.3503 38.1752 22.5961 39.3757 25.0411 39.862C27.4861 40.3483 30.0203 40.0987 32.3234 39.1447C34.6266 38.1908 36.5951 36.5753 37.98 34.5025C39.365 32.4298 40.1042 29.9929 40.1042 27.5C40.0982 24.159 38.7683 20.9566 36.4058 18.5942C34.0434 16.2318 30.841 14.9019 27.5 14.8958ZM27.5 35.5208C25.9137 35.5208 24.3629 35.0504 23.0439 34.1691C21.7249 33.2878 20.6968 32.0351 20.0898 30.5695C19.4827 29.1038 19.3238 27.4911 19.6333 25.9352C19.9428 24.3793 20.7067 22.9502 21.8285 21.8284C22.9502 20.7067 24.3794 19.9428 25.9353 19.6333C27.4911 19.3238 29.1039 19.4826 30.5695 20.0897C32.0351 20.6968 33.2878 21.7249 34.1691 23.0439C35.0505 24.3629 35.5209 25.9136 35.5209 27.5C35.5209 29.6273 34.6758 31.6674 33.1716 33.1716C31.6674 34.6758 29.6273 35.5208 27.5 35.5208Z"})))}var tt,nt=a.forwardRef(et);n.p;function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}function at(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function it(e,t){var n=e.title,r=e.titleId,i=at(e,["title","titleId"]);return a.createElement("svg",rt({width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,tt||(tt=a.createElement("path",{d:"M21.64 13C21.4957 12.8807 21.3207 12.8043 21.1351 12.7795C20.9494 12.7548 20.7606 12.7827 20.59 12.86C19.5326 13.3439 18.3829 13.5929 17.22 13.59C15.0689 13.5874 13.006 12.7344 11.4812 11.2171C9.95632 9.69976 9.09321 7.64111 9.08001 5.49C9.08457 4.81583 9.16848 4.14454 9.33001 3.49C9.36429 3.31554 9.35143 3.13509 9.29277 2.96725C9.2341 2.79941 9.13175 2.65025 8.99626 2.53513C8.86076 2.42001 8.69702 2.3431 8.52191 2.31231C8.3468 2.28153 8.16665 2.29799 8.00001 2.36C6.43234 3.06491 5.06958 4.15676 4.03977 5.53298C3.00996 6.9092 2.34689 8.52462 2.11286 10.2275C1.87883 11.9303 2.08152 13.6647 2.70188 15.2678C3.32225 16.8708 4.33993 18.2898 5.65931 19.3915C6.9787 20.4932 8.55649 21.2414 10.2445 21.5658C11.9324 21.8903 13.6752 21.7803 15.309 21.2462C16.9428 20.7122 18.414 19.7716 19.5844 18.5128C20.7548 17.254 21.5861 15.7183 22 14.05C22.0504 13.859 22.0431 13.6573 21.9791 13.4705C21.915 13.2836 21.797 13.1199 21.64 13ZM12.14 19.69C10.4618 19.6782 8.82821 19.1479 7.46301 18.1717C6.0978 17.1956 5.06768 15.8213 4.5137 14.2371C3.95971 12.6529 3.90895 10.9362 4.36835 9.322C4.82776 7.70782 5.77487 6.2751 7.08001 5.22V5.49C7.08266 8.17848 8.15183 10.7561 10.0529 12.6571C11.9539 14.5582 14.5315 15.6274 17.22 15.63C17.9259 15.6326 18.63 15.5588 19.32 15.41C18.6299 16.7155 17.5965 17.8078 16.3312 18.5691C15.0659 19.3304 13.6167 19.7318 12.14 19.73V19.69Z"})))}var st,ct=a.forwardRef(it),ot=(n.p,function(){var e=ne().setTheme,t=d((function(e){return e.theme.themeStyle}));return Object(a.useEffect)((function(){"dark"===t&&document.body.classList.add("dark")}),[]),{currentTheme:t,switchTheme:function(){var n="light"===t?"dark":"light";e(n),localStorage.setItem("themeStyle",n),document.body.classList.toggle("dark")}}}),lt=function(e){var t=e.children,n=ot(),r=n.currentTheme,a=n.switchTheme;return Object(j.jsxs)(_,{className:"transparent-button--main navbar__button navbar__theme-switch",onClick:a,children:["light"===r&&Object(j.jsx)(nt,{}),"dark"===r&&Object(j.jsx)(ct,{}),Object(j.jsx)("span",{children:t})]})};function ut(){return ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ut.apply(this,arguments)}function dt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ht(e,t){var n=e.title,r=e.titleId,i=dt(e,["title","titleId"]);return a.createElement("svg",ut({width:64,height:64,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,st||(st=a.createElement("path",{d:"M31.9999 5.33334C26.8279 5.34317 21.7703 6.85684 17.4432 9.68998C13.1161 12.5231 9.70632 16.5535 7.6291 21.2901C5.55189 26.0267 4.89693 31.2651 5.744 36.3674C6.59106 41.4696 8.9036 46.2154 12.3999 50.0267C14.8971 52.7335 17.9278 54.8937 21.3011 56.3712C24.6744 57.8488 28.3172 58.6116 31.9999 58.6116C35.6826 58.6116 39.3254 57.8488 42.6988 56.3712C46.0721 54.8937 49.1028 52.7335 51.5999 50.0267C55.0963 46.2154 57.4088 41.4696 58.2559 36.3674C59.1029 31.2651 58.448 26.0267 56.3708 21.2901C54.2935 16.5535 50.8837 12.5231 46.5566 9.68998C42.2296 6.85684 37.172 5.34317 31.9999 5.33334V5.33334ZM31.9999 53.3333C26.4758 53.325 21.1704 51.1741 17.1999 47.3333C18.4054 44.3988 20.456 41.8888 23.0913 40.1224C25.7265 38.356 28.8274 37.4128 31.9999 37.4128C35.1724 37.4128 38.2733 38.356 40.9086 40.1224C43.5438 41.8888 45.5945 44.3988 46.7999 47.3333C42.8295 51.1741 37.524 53.325 31.9999 53.3333ZM26.6666 26.6667C26.6666 25.6118 26.9794 24.5807 27.5654 23.7036C28.1515 22.8266 28.9844 22.143 29.9589 21.7393C30.9335 21.3357 32.0058 21.23 33.0404 21.4358C34.075 21.6416 35.0253 22.1496 35.7712 22.8954C36.517 23.6413 37.025 24.5916 37.2308 25.6262C37.4366 26.6608 37.331 27.7331 36.9273 28.7077C36.5236 29.6822 35.84 30.5151 34.963 31.1012C34.0859 31.6872 33.0548 32 31.9999 32C30.5854 32 29.2289 31.4381 28.2287 30.4379C27.2285 29.4377 26.6666 28.0812 26.6666 26.6667ZM50.4266 42.6667C48.044 38.5914 44.377 35.4214 39.9999 33.6533C41.3577 32.1138 42.2424 30.2151 42.5479 28.1852C42.8533 26.1553 42.5665 24.0803 41.7219 22.2093C40.8773 20.3384 39.5108 18.7508 37.7863 17.6373C36.0619 16.5237 34.0527 15.9313 31.9999 15.9313C29.9472 15.9313 27.938 16.5237 26.2135 17.6373C24.489 18.7508 23.1225 20.3384 22.2779 22.2093C21.4333 24.0803 21.1466 26.1553 21.452 28.1852C21.7575 30.2151 22.6421 32.1138 23.9999 33.6533C19.6229 35.4214 15.9558 38.5914 13.5733 42.6667C11.6744 39.4323 10.6712 35.7506 10.6666 32C10.6666 26.3421 12.9142 20.9158 16.915 16.9151C20.9158 12.9143 26.342 10.6667 31.9999 10.6667C37.6579 10.6667 43.0841 12.9143 47.0849 16.9151C51.0856 20.9158 53.3333 26.3421 53.3333 32C53.3287 35.7506 52.3254 39.4323 50.4266 42.6667V42.6667Z"})))}var bt,jt=a.forwardRef(ht);n.p;function ft(){return ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ft.apply(this,arguments)}function mt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ot(e,t){var n=e.title,r=e.titleId,i=mt(e,["title","titleId"]);return a.createElement("svg",ft({width:64,height:64,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,bt||(bt=a.createElement("path",{d:"M32.8 32.5867C34.2228 31.355 35.3641 29.8317 36.1463 28.1201C36.9285 26.4084 37.3333 24.5486 37.3333 22.6667C37.3333 19.1304 35.9285 15.7391 33.4281 13.2386C30.9276 10.7381 27.5362 9.33333 24 9.33333C20.4637 9.33333 17.0724 10.7381 14.5719 13.2386C12.0714 15.7391 10.6666 19.1304 10.6666 22.6667C10.6666 24.5486 11.0714 26.4084 11.8536 28.1201C12.6358 29.8317 13.7771 31.355 15.2 32.5867C11.467 34.277 8.29987 37.0067 6.07724 40.4495C3.85461 43.8922 2.67055 47.9022 2.66663 52C2.66663 52.7072 2.94758 53.3855 3.44767 53.8856C3.94777 54.3857 4.62605 54.6667 5.33329 54.6667C6.04054 54.6667 6.71881 54.3857 7.21891 53.8856C7.71901 53.3855 7.99996 52.7072 7.99996 52C7.99996 47.7565 9.68567 43.6869 12.6863 40.6863C15.6868 37.6857 19.7565 36 24 36C28.2434 36 32.3131 37.6857 35.3137 40.6863C38.3143 43.6869 40 47.7565 40 52C40 52.7072 40.2809 53.3855 40.781 53.8856C41.2811 54.3857 41.9594 54.6667 42.6666 54.6667C43.3739 54.6667 44.0522 54.3857 44.5522 53.8856C45.0523 53.3855 45.3333 52.7072 45.3333 52C45.3294 47.9022 44.1453 43.8922 41.9227 40.4495C39.7001 37.0067 36.5329 34.277 32.8 32.5867ZM24 30.6667C22.4177 30.6667 20.871 30.1975 19.5554 29.3184C18.2398 28.4394 17.2144 27.1899 16.6089 25.7281C16.0034 24.2663 15.845 22.6578 16.1537 21.1059C16.4624 19.5541 17.2243 18.1286 18.3431 17.0098C19.4619 15.891 20.8874 15.1291 22.4392 14.8204C23.9911 14.5117 25.5996 14.6701 27.0614 15.2756C28.5232 15.8811 29.7727 16.9065 30.6517 18.2221C31.5308 19.5377 32 21.0844 32 22.6667C32 24.7884 31.1571 26.8232 29.6568 28.3235C28.1565 29.8238 26.1217 30.6667 24 30.6667ZM49.9733 31.52C51.6799 29.5982 52.7947 27.2241 53.1834 24.6836C53.5722 22.143 53.2184 19.5442 52.1647 17.2C51.1109 14.8558 49.4021 12.8661 47.2439 11.4705C45.0857 10.0748 42.5701 9.33264 40 9.33333C39.2927 9.33333 38.6144 9.61428 38.1143 10.1144C37.6142 10.6145 37.3333 11.2928 37.3333 12C37.3333 12.7072 37.6142 13.3855 38.1143 13.8856C38.6144 14.3857 39.2927 14.6667 40 14.6667C42.1217 14.6667 44.1565 15.5095 45.6568 17.0098C47.1571 18.5101 48 20.5449 48 22.6667C47.9962 24.0673 47.6247 25.4424 46.9228 26.6545C46.2208 27.8665 45.213 28.873 44 29.5733C43.6046 29.8014 43.2744 30.1271 43.0409 30.5193C42.8075 30.9115 42.6786 31.3571 42.6666 31.8133C42.6555 32.266 42.7598 32.7141 42.9697 33.1154C43.1797 33.5166 43.4883 33.8577 43.8666 34.1067L44.9066 34.8L45.2533 34.9867C48.4677 36.5112 51.1795 38.9226 53.0692 41.9368C54.959 44.951 55.9481 48.4425 55.92 52C55.92 52.7072 56.2009 53.3855 56.701 53.8856C57.2011 54.3857 57.8794 54.6667 58.5866 54.6667C59.2939 54.6667 59.9721 54.3857 60.4722 53.8856C60.9723 53.3855 61.2533 52.7072 61.2533 52C61.2751 47.9078 60.2502 43.878 58.2759 40.2935C56.3016 36.709 53.4435 33.6888 49.9733 31.52Z"})))}var pt,gt=a.forwardRef(Ot);n.p;function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function _t(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xt(e,t){var n=e.title,r=e.titleId,i=_t(e,["title","titleId"]);return a.createElement("svg",vt({width:64,height:64,viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,pt||(pt=a.createElement("path",{d:"M48 5.33333H21.3333C18.5043 5.33333 15.7912 6.45714 13.7908 8.45753C11.7904 10.4579 10.6666 13.171 10.6666 16V48C10.6666 50.829 11.7904 53.5421 13.7908 55.5425C15.7912 57.5429 18.5043 58.6667 21.3333 58.6667H48C49.4144 58.6667 50.771 58.1048 51.7712 57.1046C52.7714 56.1044 53.3333 54.7478 53.3333 53.3333V10.6667C53.3333 9.25218 52.7714 7.89562 51.7712 6.89543C50.771 5.89524 49.4144 5.33333 48 5.33333ZM16 16C16 14.5855 16.5619 13.229 17.5621 12.2288C18.5622 11.2286 19.9188 10.6667 21.3333 10.6667H48V37.3333H21.3333C19.4534 37.3412 17.6106 37.8572 16 38.8267V16ZM21.3333 53.3333C19.9188 53.3333 18.5622 52.7714 17.5621 51.7712C16.5619 50.771 16 49.4145 16 48C16 46.5855 16.5619 45.229 17.5621 44.2288C18.5622 43.2286 19.9188 42.6667 21.3333 42.6667H48V53.3333H21.3333ZM26.6666 21.3333H37.3333C38.0405 21.3333 38.7188 21.0524 39.2189 20.5523C39.719 20.0522 40 19.3739 40 18.6667C40 17.9594 39.719 17.2811 39.2189 16.781C38.7188 16.281 38.0405 16 37.3333 16H26.6666C25.9594 16 25.2811 16.281 24.781 16.781C24.2809 17.2811 24 17.9594 24 18.6667C24 19.3739 24.2809 20.0522 24.781 20.5523C25.2811 21.0524 25.9594 21.3333 26.6666 21.3333Z"})))}var wt,Ct=a.forwardRef(xt),yt=(n.p,function(e){var t=e.path,n=e.disabled,r=e.className,i=e.children,s=r?" ".concat(r):"",c=Object(o.g)(),l=!1;return t&&(l=c.pathname.includes(t)),Object(j.jsxs)(a.Fragment,{children:[n&&Object(j.jsx)("div",{className:"navbar__button navbar__button--disabled"+s,children:i}),l&&Object(j.jsx)("div",{className:"navbar__button navbar__button--active"+s,children:i}),!l&&!n&&t&&Object(j.jsx)(Ee.b,{className:"navbar__button"+s,to:t,children:i})]})}),St=(n(123),function(e){var t=e.userUrl,n=e.userEmoji;Object(b.a)(e,["userUrl","userEmoji"]);return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsxs)(Ee.b,{className:"bubble__item",to:"".concat(r.USER_PROFILE_BASE).concat(t),children:[Object(j.jsx)("span",{className:"bubble__emoji",children:n}),Object(j.jsx)("span",{children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})]}),Object(j.jsx)("div",{className:"bubble__item",children:Object(j.jsx)(lt,{children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043c\u0443"})}),Object(j.jsx)("div",{className:"bubble__item",children:Object(j.jsx)(Je,{children:"\u0412\u044b\u0439\u0442\u0438"})})]})}),kt=function(e){var t=e.userUrl,n=e.userEmoji,r=e.children,a=d((function(e){return e.bubble.isShow})),i=ne(),s=i.closeBubble,c=i.showBubble;return Object(j.jsx)("div",{className:"navbar__bubble-button",children:Object(j.jsx)(_,{className:"navbar__button",onClick:function(){a?s():c(Object(j.jsx)(St,{userUrl:t,userEmoji:n}),"navbar-bubble__wrapper")},children:r})})},Nt=function(){var e=d((function(e){return e.auth})).userData;return Object(j.jsxs)("nav",{className:"navbar",children:[Object(j.jsx)(lt,{}),Object(j.jsxs)("div",{className:"navbar__main-buttons",children:[Object(j.jsx)(yt,{className:"navbar__profile",path:"".concat(r.USER_PROFILE_BASE).concat(null===e||void 0===e?void 0:e.url),children:Object(j.jsx)(jt,{})}),Object(j.jsx)(kt,{userUrl:(null===e||void 0===e?void 0:e.url)||"",userEmoji:(null===e||void 0===e?void 0:e.emoji)||"",children:Object(j.jsx)(jt,{})}),(null===e||void 0===e?void 0:e.club)?Object(j.jsx)(yt,{path:"".concat(r.CLUB_PROFILE_BASE).concat(null===e||void 0===e?void 0:e.club),children:Object(j.jsx)(gt,{})}):Object(j.jsx)(yt,{disabled:!0,children:Object(j.jsx)(gt,{})}),(null===e||void 0===e?void 0:e.club)?Object(j.jsx)(yt,{path:r.RANDOM_BOOK,children:Object(j.jsx)(Ct,{})}):Object(j.jsx)(yt,{disabled:!0,children:Object(j.jsx)(Ct,{})})]}),Object(j.jsx)(Je,{})]})},Et=(n(124),function(e){var t=e.className,n=e.children,r=Object(b.a)(e,["className","children"]);return Object(j.jsx)("button",Object(c.a)(Object(c.a)({},r),{},{className:"".concat(t?"main-button ".concat(t):"main-button"),children:n}))}),Lt=(n(125),function(e){var t=e.book,n=(Object(b.a)(e,["book"]),Object(a.useState)(t.cover)),r=Object(h.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){var e="https://readly.ru";i.includes(e)||s(e+t.cover)}),[]),Object(j.jsxs)("div",{className:"book-data-view",children:[Object(j.jsxs)("section",{className:"book-data-view__header",children:[Object(j.jsx)("figure",{className:"book-data-view__cover",children:Object(j.jsx)("img",{src:i,alt:t.title})}),Object(j.jsx)("div",{className:"book-data-view__title-container",children:Object(j.jsx)("h1",{className:"book-data-view__title",children:t.title})})]}),Object(j.jsxs)("section",{className:"book-data-view__info",children:[Object(j.jsxs)("div",{className:"book-data-view__info-line",children:[Object(j.jsx)("p",{className:"book-data-view__info-label",children:t.authors.length<=1?"\u0410\u0432\u0442\u043e\u0440:":"\u0410\u0432\u0442\u043e\u0440\u044b"}),Object(j.jsx)("p",{className:"book-data-view__info-value",children:t.authors.join(", ")})]}),Object(j.jsxs)("div",{className:"book-data-view__info-line",children:[Object(j.jsx)("p",{className:"book-data-view__info-label",children:t.genres.length<=1?"\u0416\u0430\u043d\u0440:":"\u0416\u0430\u043d\u0440\u044b:"}),Object(j.jsx)("p",{className:"book-data-view__info-value",children:t.genres.join(", ")})]}),Object(j.jsxs)("div",{className:"book-data-view__info-line",children:[Object(j.jsx)("p",{className:"book-data-view__info-label",children:"\u0413\u043e\u0434:"}),Object(j.jsx)("p",{className:"book-data-view__info-value",children:t.year})]})]}),Object(j.jsxs)("section",{className:"book-data-view__description-container",children:[Object(j.jsx)("p",{className:"book-data-view__info-label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(j.jsx)("span",{className:"book-data-view__description",children:t.description})]})]})}),At=(n(126),"book/"),It={getRandomBook:function(){var e=Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get("book/random"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),confirmBook:function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.post("book/confirm",{book:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBookData:function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.get("".concat(At).concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Tt=It,Rt=function(){var e=Object(a.useState)({title:"",authors:[""],year:"",cover:"",description:"",genres:[""]}),t=Object(h.a)(e,2),n=t[0],r=t[1],i=d((function(e){return e.loadingPage.isLoadingPage})),s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Page",Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.getRandomBook();case 2:t=e.sent,r(t.data),l(!0);case 5:case"end":return e.stop()}}),e)})))),b=ne().addNotification,j=de("Post",function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt.confirmBook(t);case 2:b("\u041a\u043d\u0438\u0433\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430","success"),u({});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){u({})}),[]),{bookData:n,confirmBook:j,getBook:u,isLoading:i,isLoaded:o}},Dt=function(){var e=Rt(),t=e.bookData,n=e.getBook,r=e.confirmBook,i=e.isLoading,s=e.isLoaded;return!i&&s?Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)("div",{className:"random-book__view",children:Object(j.jsx)(Lt,{book:t})}),Object(j.jsxs)("div",{className:"random-book__buttons",children:[Object(j.jsx)(Et,{className:"main-button--green",onClick:function(){return r(t)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(j.jsx)(Et,{className:"main-button--red",onClick:function(){return n({})},children:"\u0418\u0441\u043a\u0430\u0442\u044c \u0435\u0449\u0451"})]})]}):Object(j.jsx)("div",{className:"random-book__loader",children:Object(j.jsx)(ge,{})})},Mt=(n(127),function(e){var t=e.handleClick;return Object(j.jsx)("div",{className:"random-book-placeholder",children:Object(j.jsx)(Et,{className:"main-button--big",onClick:function(){return t()},children:"\u0418\u0441\u043a\u0430\u0442\u044c \u043a\u043d\u0438\u0433\u0438"})})}),Bt=(n(128),function(){var e=Object(a.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],i=d((function(e){return e.loadingPage.isLoadingPage}));return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Re.a,{children:Object(j.jsx)("title",{children:"\u0421\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u043a\u043d\u0438\u0433\u0430"})}),Object(j.jsx)("div",{className:i?"random-book-page random-book-page--loading":"random-book-page",children:n?Object(j.jsx)(Dt,{}):Object(j.jsx)(Mt,{handleClick:function(){r(!0)}})})]})});n(129);function Pt(){return Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(this,arguments)}function Ut(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ft(e,t){var n=e.title,r=e.titleId,i=Ut(e,["title","titleId"]);return a.createElement("svg",Pt({viewBox:"0 0 20 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,wt||(wt=a.createElement("path",{d:"M19.375 10.7344C19.375 8.59515 18.6356 6.50281 17.2927 4.84277C16.0791 3.34222 14.4196 2.24652 12.5781 1.71918V0H7.42188V1.71918C5.59631 2.24176 3.95074 3.32153 2.73895 4.80377C1.37573 6.47095 0.625 8.57721 0.625 10.7344C0.625 14.4992 2.85596 17.7523 6.06506 19.2424L5.4328 22.5938H4.09375V24H15.9062V22.5938H14.5672L13.9349 19.2424C17.144 17.7523 19.375 14.4992 19.375 10.7344ZM16.1994 5.72699C17.1927 6.95526 17.7974 8.46204 17.9373 10.0312H11.9885C11.901 9.78497 11.7692 9.55975 11.6025 9.36493L14.5771 4.21271C15.1821 4.6377 15.7299 5.14655 16.1994 5.72699ZM8.82812 1.40625H11.1719V2.14618L10 3.31805L8.82812 2.14618V1.40625ZM7.77435 3.08112L10 5.30695L12.226 3.08093C12.6147 3.19409 12.994 3.33728 13.3602 3.5083L10.3853 8.66089C10.2602 8.63763 10.1317 8.625 10 8.625C9.86835 8.625 9.73981 8.63763 9.61475 8.66089L6.64001 3.50848C7.00604 3.33746 7.38525 3.19446 7.77435 3.08112ZM10.7031 10.7344C10.7031 11.122 10.3876 11.4375 10 11.4375C9.61237 11.4375 9.29688 11.122 9.29688 10.7344C9.29688 10.3467 9.61237 10.0312 10 10.0312C10.3876 10.0312 10.7031 10.3467 10.7031 10.7344ZM3.82751 5.69403C4.29132 5.12677 4.82947 4.62891 5.42255 4.21234L8.39746 9.36493C8.23083 9.55975 8.09882 9.78497 8.01147 10.0312H2.06274C2.20374 8.44739 2.81787 6.92889 3.82751 5.69403ZM5.42383 17.2544C3.55396 15.938 2.27368 13.8389 2.06256 11.4375H8.01147C8.099 11.6838 8.23083 11.909 8.39746 12.1038L5.42383 17.2544ZM6.86377 22.5938L7.40173 19.7428C8.22717 19.9812 9.09894 20.1094 10 20.1094C10.9011 20.1094 11.7728 19.9812 12.5983 19.7428L13.1362 22.5938H6.86377ZM10 18.7031C8.80029 18.7031 7.66211 18.4362 6.64056 17.9594L9.61475 12.8079C9.73981 12.8309 9.86835 12.8438 10 12.8438C10.1317 12.8438 10.2602 12.8311 10.3853 12.8079L13.3594 17.9594C12.3379 18.4362 11.1997 18.7031 10 18.7031ZM14.5762 17.2544L11.6025 12.1038C11.7692 11.909 11.9012 11.6838 11.9885 11.4375H17.9374C17.7263 13.8389 16.446 15.938 14.5762 17.2544Z"})))}var Ht,Wt=a.forwardRef(Ft);n.p;function Gt(){return Gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gt.apply(this,arguments)}function Xt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vt(e,t){var n=e.title,r=e.titleId,i=Xt(e,["title","titleId"]);return a.createElement("svg",Gt({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Ht||(Ht=a.createElement("path",{d:"M20.8125 18.375H15.5625C15.4594 18.375 15.375 18.4593 15.375 18.5625V19.6875C15.375 19.7906 15.4594 19.875 15.5625 19.875H20.8125C20.9156 19.875 21 19.7906 21 19.6875V18.5625C21 18.4593 20.9156 18.375 20.8125 18.375ZM8.7539 11.9625C8.73281 11.7586 8.72109 11.5523 8.72109 11.3437C8.72109 10.9711 8.75625 10.6078 8.82187 10.2539C8.83828 10.1695 8.79375 10.0828 8.7164 10.0476C8.39765 9.90466 8.10469 9.70778 7.85156 9.45935C7.55329 9.17014 7.31859 8.82194 7.16242 8.43696C7.00624 8.05198 6.93204 7.63867 6.94453 7.22341C6.96562 6.47106 7.26797 5.75622 7.79531 5.21716C8.37422 4.62419 9.15234 4.30075 9.97968 4.31013C10.7273 4.31716 11.4492 4.60544 11.9953 5.11638C12.1805 5.28981 12.3398 5.482 12.4734 5.68825C12.5203 5.76091 12.6117 5.79138 12.6914 5.76325C13.1039 5.62028 13.5398 5.5195 13.9875 5.47263C14.1187 5.45856 14.1937 5.31794 14.1352 5.20075C13.3734 3.69372 11.8172 2.6531 10.0172 2.62497C7.41797 2.58513 5.25234 4.7156 5.25234 7.31013C5.25234 8.782 5.92968 10.0945 6.9914 10.9547C6.24609 11.2992 5.55937 11.775 4.96406 12.3703C3.67969 13.6523 2.95312 15.3445 2.90625 17.1515C2.90562 17.1765 2.91001 17.2014 2.91915 17.2247C2.92829 17.248 2.94201 17.2692 2.95948 17.2872C2.97695 17.3051 2.99784 17.3193 3.02089 17.329C3.04395 17.3387 3.06873 17.3437 3.09375 17.3437H4.40859C4.50937 17.3437 4.59375 17.264 4.59609 17.1632C4.64062 15.8039 5.1914 14.5312 6.15937 13.5656C6.84843 12.8765 7.69218 12.3984 8.61328 12.1664C8.70469 12.1429 8.76562 12.0562 8.7539 11.9625ZM19.3125 11.3437C19.3125 8.77966 17.2523 6.69606 14.6977 6.65622C12.1008 6.61638 9.9375 8.74685 9.9375 11.3437C9.9375 12.8156 10.6172 14.1281 11.6766 14.9883C10.9235 15.3373 10.238 15.8165 9.65156 16.4039C8.36718 17.6859 7.64062 19.3781 7.59375 21.1828C7.59312 21.2078 7.59751 21.2327 7.60665 21.256C7.61579 21.2793 7.62951 21.3005 7.64698 21.3184C7.66445 21.3363 7.68534 21.3505 7.7084 21.3603C7.73145 21.37 7.75623 21.375 7.78125 21.375H9.09375C9.19453 21.375 9.2789 21.2953 9.28125 21.1945C9.32578 19.8351 9.87656 18.5625 10.8445 17.5968C11.8547 16.5867 13.1953 16.0312 14.625 16.0312C17.2125 16.0312 19.3125 13.9336 19.3125 11.3437ZM16.7461 13.4648C16.1789 14.032 15.4266 14.3437 14.625 14.3437C13.8234 14.3437 13.0711 14.032 12.5039 13.4648C12.2209 13.1833 11.9972 12.8477 11.8463 12.4782C11.6953 12.1086 11.62 11.7125 11.625 11.3133C11.632 10.5445 11.9391 9.80153 12.4758 9.25075C13.0383 8.67419 13.7906 8.3531 14.5945 8.34372C15.3891 8.33669 16.1602 8.64606 16.7273 9.20153C17.3086 9.77106 17.6273 10.5328 17.6273 11.3437C17.625 12.1453 17.3133 12.8976 16.7461 13.4648Z"})))}var Yt,Zt=a.forwardRef(Vt);n.p;function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Kt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qt(e,t){var n=e.title,r=e.titleId,i=Kt(e,["title","titleId"]);return a.createElement("svg",zt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Yt||(Yt=a.createElement("path",{fill:"currentColor",d:"M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4c0-15.9 1.5-31.4 4.3-46.5c.7-3.6-1.2-7.3-4.5-8.8c-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 0 1-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6c24.7-25.3 57.9-39.1 93.2-38.7c31.9.3 62.7 12.6 86 34.4c7.9 7.4 14.7 15.6 20.4 24.4c2 3.1 5.9 4.4 9.3 3.2c17.6-6.1 36.2-10.4 55.3-12.4c5.6-.6 8.8-6.6 6.3-11.6c-32.5-64.3-98.9-108.7-175.7-109.9c-110.8-1.7-203.2 89.2-203.2 200c0 62.8 28.9 118.8 74.2 155.5c-31.8 14.7-61.1 35-86.5 60.4c-54.8 54.7-85.8 126.9-87.8 204a8 8 0 0 0 8 8.2h56.1c4.3 0 7.9-3.4 8-7.7c1.9-58 25.4-112.3 66.7-153.5c29.4-29.4 65.4-49.8 104.7-59.7c3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 0 0-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 0 0 8 8.2h56c4.3 0 7.9-3.4 8-7.7c1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 0 1-37.5-91.8c.3-32.8 13.4-64.5 36.3-88c24-24.6 56.1-38.3 90.4-38.7c33.9-.3 66.8 12.9 91 36.6c24.8 24.3 38.4 56.8 38.4 91.4c-.1 34.2-13.4 66.3-37.6 90.5z"})))}var Jt,$t=a.forwardRef(qt),Qt=(n.p,n(130),n(131),Object(a.forwardRef)((function(e,t){return Object(j.jsx)("textarea",Object(c.a)(Object(c.a)({},e),{},{ref:t,className:"".concat(e.className?"input-textarea "+e.className:"input-textarea")}))}))),en=(n(132),Object(a.forwardRef)((function(e,t){var n=e.children,r=e.className,a=Object(b.a)(e,["children","className"]);return Object(j.jsx)("select",Object(c.a)(Object(c.a)({},a),{},{ref:t,className:"".concat(r?"input-select "+r:"input-select"),children:n}))}))),tn=function(){var e=ne(),t=e.addNotification,n=e.closeModal,r=de("Post",function(){var e=Object(y.a)(C.a.mark((function e(r){var a,i,s,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.clubUrl,i=r.clubname,s=r.masterUrl,c=r.description,e.next=3,P.updateSettings(a,i,s,c);case 3:"Success"===e.sent.data&&(t("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b","success"),n());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return r},nn=function(e){var t,n,r,a=e.clubSettingsInfo,i=e.clubUrl,s=(Object(b.a)(e,["clubSettingsInfo","clubUrl"]),a.clubname),o=a.rules,l=a.members,u=tn(),d=Object(re.b)(),h=d.handleSubmit,f=d.control,m=d.formState.errors;return Object(j.jsxs)("form",{className:"club-settings-form",onSubmit:h((function(e){return u({clubUrl:i,clubname:e.clubname,masterUrl:e.master,description:e.rules})})),children:[Object(j.jsxs)("fieldset",{className:"club-settings-form__group",children:[Object(j.jsx)("label",{className:"club-settings-form__label",htmlFor:"clubname",children:"\u0418\u043c\u044f \u043a\u043b\u0443\u0431\u0430"}),Object(j.jsx)(re.a,{name:"clubname",control:f,defaultValue:s,rules:{required:!0,minLength:xe.CLUBNAME_MIN_LENGTH,maxLength:xe.CLUBNAME_MAX_LENGTH},render:function(e){var t=e.field;return Object(j.jsx)(ae,Object(c.a)({},t))}}),"required"===(null===(t=m.clubname)||void 0===t?void 0:t.type)&&Object(j.jsx)("div",{className:"club-settings-form__error",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043b\u0443\u0431\u0430"}),"minLength"===(null===(n=m.clubname)||void 0===n?void 0:n.type)&&Object(j.jsxs)("div",{className:"club-settings-form__error",children:["\u0418\u043c\u044f \u043a\u043b\u0443\u0431\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u043a\u043e\u0440\u043e\u0447\u0435 ",xe.CLUBNAME_MIN_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]}),"maxLength"===(null===(r=m.clubname)||void 0===r?void 0:r.type)&&Object(j.jsxs)("div",{className:"club-settings-form__error",children:["\u0418\u043c\u044f \u043a\u043b\u0443\u0431\u0430 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043d\u0435 \u0434\u043b\u0438\u043d\u0435\u0435 ",xe.CLUBNAME_MAX_LENGTH," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"]})]}),Object(j.jsxs)("fieldset",{className:"club-settings-form__group",children:[Object(j.jsx)("label",{className:"club-settings-form__label",htmlFor:"master",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439"}),Object(j.jsx)(re.a,{name:"master",control:f,rules:{required:!0},defaultValue:l[0].url,render:function(e){var t=e.field;return Object(j.jsx)(en,Object(c.a)(Object(c.a)({},t),{},{children:l.map((function(e){return Object(j.jsx)("option",{value:e.url,children:e.username},"master-".concat(e.url))}))}))}})]}),Object(j.jsxs)("fieldset",{className:"club-settings-form__group",children:[Object(j.jsx)("label",{className:"club-settings-form__label",htmlFor:"description",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(j.jsx)(re.a,{name:"rules",control:f,defaultValue:o,render:function(e){var t=e.field;return Object(j.jsx)(Qt,Object(c.a)(Object(c.a)({},t),{},{placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043b\u0443\u0431\u0430"}))}})]}),Object(j.jsx)("div",{className:"club-settings-form__button",children:Object(j.jsx)(ie,{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},rn=(n(133),function(){var e=Object(o.g)().pathname,t=e.substring(e.lastIndexOf("/")-12,e.lastIndexOf("/")),n=Object(a.useState)({clubname:"",rules:"",members:[]}),r=Object(h.a)(n,2),i=r[0],s=r[1],c=Object(a.useState)(!1),l=Object(h.a)(c,2),u=l[0],d=l[1],b=de("Modal",function(){var e=Object(y.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getSettingsInfo(t);case 2:n=e.sent,s(n.data),d(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){b(t)}),[]),u?Object(j.jsxs)("div",{className:"club-settings-page",children:[Object(j.jsx)("div",{className:"club-settings-page__title",children:Object(j.jsx)("h1",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(j.jsx)("div",{className:"club-settings-page__container",children:Object(j.jsx)(nn,{clubSettingsInfo:i,clubUrl:t||""})})]}):Object(j.jsx)("div",{className:"club-settings-page__loader",children:Object(j.jsx)(ge,{})})}),an=function(e){var t=e.isInClub,n=e.isMaster,a=e.clubUrl,i=(Object(b.a)(e,["isInClub","isMaster","clubUrl"]),ne()),s=i.joinClub,c=i.leaveClub,o=i.showModal,l=d((function(e){var t;return null===(t=e.auth.userData)||void 0===t?void 0:t.club}));return Object(j.jsxs)("div",{className:"club-profile-header__buttons",children:[n&&Object(j.jsxs)(Ee.b,{className:"club-profile-header__button",to:"".concat(r.CLUB_PROFILE_BASE).concat(a,"/wheel"),children:[Object(j.jsx)(Wt,{}),Object(j.jsx)("span",{children:"\u041a\u043e\u043b\u0435\u0441\u043e"})]}),n&&Object(j.jsxs)(_,{className:"club-profile-header__button",onClick:function(){o(Object(j.jsx)(rn,{}))},children:[Object(j.jsx)(v,{}),Object(j.jsx)("span",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})]}),!t&&!l&&Object(j.jsxs)(_,{className:"club-profile-header__button transparent-button--green",onClick:function(){return s(a)},children:[Object(j.jsx)($t,{}),Object(j.jsx)("span",{children:"\u0412\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u043a\u043b\u0443\u0431"})]}),t&&Object(j.jsxs)(_,{className:"club-profile-header__button transparent-button--red",onClick:function(){return c(a)},children:[Object(j.jsx)(Zt,{}),Object(j.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043a\u043b\u0443\u0431\u0430"})]})]})},sn=(n(134),function(e){var t=e.book;Object(b.a)(e,["book"]);return Object(j.jsxs)("div",{className:"club-header-book",children:[Object(j.jsx)("div",{className:"club-header-book__title",children:"\u041a\u043d\u0438\u0433\u0430"}),t?Object(j.jsxs)("div",{className:"club-header-book__book",children:[Object(j.jsx)("div",{className:"club-header-book__name",children:t.title}),Object(j.jsx)("div",{className:"club-header-book__author",children:t.authors.join(", ")})]}):Object(j.jsx)("div",{className:"club-header-book__placeholder",children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430"})]})}),cn=(n(135),function(e){var t=e.master;Object(b.a)(e,["master"]);return Object(j.jsxs)("div",{className:"club-header-master",children:[Object(j.jsx)("div",{className:"club-header-master__title",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439"}),t?Object(j.jsx)(Ee.b,{className:"club-header-master__name",to:"".concat(r.USER_PROFILE_BASE).concat(t.url),children:t.username}):Object(j.jsx)("div",{className:"club-header-master__name",children:"\u041e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442"})]})}),on=(n(136),n(137),function(e){var t=e.meetingNumber;Object(b.a)(e,["meetingNumber"]);return Object(j.jsx)("div",{className:"club-header-meeting",children:Object(j.jsx)("span",{children:"\u0421\u043e\u0431\u0440\u0430\u043d\u0438\u0435 ".concat(t)})})}),ln=function(e){var t=e.clubUrl,n=e.setIsMaster,r=e.setIsLoaded,i=d((function(e){return e.auth.userData})),s=Object(a.useState)({clubname:null,master:null,bookToRead:null,meetingNumber:1,isMaster:!1,isInClub:!1}),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Page",Object(y.a)(C.a.mark((function e(){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getClubProfileInfo(t||"");case 2:a=e.sent,l(a.data),n(a.data.isMaster),r();case 6:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){u({})}),[i]),{clubInfo:o}},un=function(e){var t=e.clubUrl,n=e.setIsMaster,r=e.setIsLoaded,i=(Object(b.a)(e,["clubUrl","setIsMaster","setIsLoaded"]),ln({clubUrl:t,setIsMaster:n,setIsLoaded:r}).clubInfo);return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Re.a,{children:Object(j.jsxs)("title",{children:["\u041a\u043b\u0443\u0431 ",i.clubname||""]})}),Object(j.jsxs)("section",{className:"club-profile-header",children:[Object(j.jsx)(f,{title:i.clubname||""}),Object(j.jsx)(an,{clubUrl:t||"",isInClub:i.isInClub,isMaster:i.isMaster}),Object(j.jsx)(sn,{book:i.bookToRead}),Object(j.jsx)(cn,{master:i.master}),Object(j.jsx)(on,{meetingNumber:i.meetingNumber})]})]})},dn=(n(138),function(){var e=Object(o.g)(),t=Object(o.k)().clubUrl,n=Object(a.useState)(!1),i=Object(h.a)(n,2),s=i[0],c=i[1],l=Object(a.useState)(!1),u=Object(h.a)(l,2),d=u[0],b=u[1],f=[{name:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",path:"".concat(r.CLUB_PROFILE_BASE).concat(t,"/").concat(r.CLUB_PROFILE_RULES)},{name:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438",path:"".concat(r.CLUB_PROFILE_BASE).concat(t,"/").concat(r.CLUB_PROFILE_MEMBERS)},{name:"\u041a\u043d\u0438\u0433\u0438",path:"".concat(r.CLUB_PROFILE_BASE).concat(t,"/").concat(r.CLUB_PROFILE_BOOKS)},{name:"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u0438",path:"".concat(r.CLUB_PROFILE_BASE).concat(t,"/").concat(r.CLUB_PROFILE_REVIEWS)},{name:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f",path:"".concat(r.CLUB_PROFILE_BASE).concat(t,"/").concat(r.CLUB_PROFILE_HISTORY)}];return f.map((function(e){return e.path})).some((function(t){return t===e.pathname}))?Object(j.jsxs)("div",{className:d?"club-profile-page":"club-profile-page club-profile-page--loading",children:[!d&&Object(j.jsx)("div",{children:Object(j.jsx)(ge,{})}),Object(j.jsx)(un,{setIsLoaded:function(){b(!0)},clubUrl:t,setIsMaster:function(e){return c(e)}}),Object(j.jsx)(Be,{tabsData:f,url:t}),Object(j.jsx)("section",{className:"club-profile-page__content",children:Object(j.jsx)(o.b,{context:{isMaster:s,clubUrl:t}})})]}):Object(j.jsx)(o.a,{to:"".concat(r.CLUB_PROFILE_BASE).concat(t,"/").concat(r.CLUB_PROFILE_BOOKS),replace:!0})});function hn(){return Object(o.j)()}function bn(){return bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bn.apply(this,arguments)}function jn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function fn(e,t){var n=e.title,r=e.titleId,i=jn(e,["title","titleId"]);return a.createElement("svg",bn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Jt||(Jt=a.createElement("path",{fill:"currentColor",d:"M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75Zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5ZM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75Zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75Zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25Z"})))}var mn=a.forwardRef(fn),On=(n.p,n(139),function(e){var t=e.isClubHistory,n=e.isOwner,r=e.bookData,a=e.handleDelete,i=r.title,s=r.authors,c=r.year,o=r.genres,l=r.meetingNumber;return Object(j.jsxs)("div",{className:"book-card",children:[Object(j.jsxs)("div",{className:t?"book-card__head book-card__head--with-meeting":"book-card__head",children:[Object(j.jsx)("div",{className:"book-card__title",children:Object(j.jsx)("h4",{children:i})}),Object(j.jsx)("div",{className:"book-card__authors",children:Object(j.jsx)("p",{children:s.join(", ")})}),l&&Object(j.jsx)("div",{className:"book-card__meeting-number",children:Object(j.jsxs)("p",{children:["\u0421\u043e\u0431\u0440\u0430\u043d\u0438\u0435 ",l]})}),n&&Object(j.jsx)("div",{className:"book-card__delete",children:Object(j.jsx)(_,{onClick:a,children:Object(j.jsx)(mn,{})})})]}),Object(j.jsxs)("div",{className:"book-card__footer",children:[Object(j.jsx)("div",{className:"book-card__genres",children:Object(j.jsx)("p",{children:o.join(", ")})}),Object(j.jsx)("div",{className:"book-card__year",children:Object(j.jsx)("p",{children:c})})]})]})}),pn=(n(140),n(8)),gn=function(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=Object(a.useState)(!1),d=Object(h.a)(u,2),b=d[0],j=d[1],f=function(){var e=Object(a.useState)(null),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(1),s=Object(h.a)(i,2),c=s[0],o=s[1],l=Object(a.useCallback)((function(e){r(e)}),[]);return Object(a.useEffect)((function(){var e=new IntersectionObserver(function(){var e=Object(y.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[0].isIntersecting&&o((function(e){return e+1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{threshold:.3});return n&&e.observe(n),function(){n&&e.unobserve(n)}}),[n]),{pageNum:c,setPageNum:o,containerRef:l}}(),m=f.pageNum,O=f.containerRef,p=function(e,t,n){var r=[].concat(Object(pn.a)(e),Object(pn.a)(t));i(r),r.length===n&&j(!0)},g=de("Tab",Object(y.a)(C.a.mark((function t(){var n,a;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,je.getUserBooks(e,m,10);case 2:n=t.sent,a=parseInt(n.headers["x-data-length"]),p(r,n.data,a),l(!0);case 6:case"end":return t.stop()}}),t)})))),v=de("Post",function(){var t=Object(y.a)(C.a.mark((function t(n){var a,i,s,c,o,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.index,t.next=3,je.deleteBook(e,a);case 3:if("Success"!==t.sent.data){t.next=14;break}return(i=Object(pn.a)(r)).splice(a,1),s=vn(a,10),t.next=10,je.getUserBooks(e,s,10);case 10:c=t.sent,o=c.data.filter((function(e){return!i.some((function(t){return e.title===t.title&&e.authors.join("")===t.authors.join("")}))})),l=parseInt(c.headers["x-data-length"]),p(i,o,l);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(a.useEffect)((function(){b||g({})}),[m]),{booksArray:r,containerRef:O,isOut:b,fetchBooksArray:g,fetchDeleteBook:v,isLoaded:o}};function vn(e,t){return Math.floor(e/t)+1}var _n,xn=function(e){var t=d((function(e){return e.loadingTab.isLoadingTab})),n=Object(o.j)(),r=n.isCurrentUser,i=n.userUrl,s=gn(i||""),l=s.booksArray,u=s.isOut,h=s.containerRef,b=s.fetchDeleteBook,f=s.isLoaded,m=function(e){b({index:e})};return Object(j.jsxs)("div",{className:"user-profile-books",children:[f&&l.length>0&&l.map((function(e,n){return n!==l.length-1||t||u?Object(j.jsx)(On,{isClubHistory:!1,isOwner:r,handleDelete:function(){return m(n)},bookData:Object(c.a)({},e)},"".concat(i,"-").concat(e.title,"-").concat(e.authors.join(", "))):Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(On,{isClubHistory:!1,isOwner:r,handleDelete:function(){return m(n)},bookData:Object(c.a)({},e)}),Object(j.jsx)("div",{ref:h,children:"Loader"})]},"".concat(i,"-").concat(e.title,"-").concat(e.authors.join(", ")))})),!t&&f&&0===l.length&&Object(j.jsx)("div",{children:"\u041a\u043d\u0438\u0433\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u044b"})]})},wn=(n(141),function(e){var t=Object(a.useState)(),n=Object(h.a)(t,2),r=n[0],i=n[1],s=de("Modal",Object(y.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt.getBookData(e);case 2:n=t.sent,i(n.data);case 4:case"end":return t.stop()}}),t)}))));return Object(a.useEffect)((function(){s({})}),[]),r}),Cn=(n(142),function(e){var t=e.bookId,n=wn(t);return n?Object(j.jsx)(Lt,{book:n}):Object(j.jsx)("div",{className:"book-data-container__loader",children:Object(j.jsx)(ge,{})})});function yn(){return yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yn.apply(this,arguments)}function Sn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function kn(e,t){var n=e.title,r=e.titleId,i=Sn(e,["title","titleId"]);return a.createElement("svg",yn({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,_n||(_n=a.createElement("path",{d:"M4.75 3.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25v-1.5a.75.75 0 0 1 1.5 0v1.5A2.75 2.75 0 0 1 11.25 14h-6.5A2.75 2.75 0 0 1 2 11.25v-6.5A2.75 2.75 0 0 1 4.75 2h1.5a.75.75 0 0 1 0 1.5h-1.5ZM8 2.75A.75.75 0 0 1 8.75 2h4.5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0V4.561l-3.22 3.22A.75.75 0 1 1 8.22 6.72l3.22-3.22H8.75A.75.75 0 0 1 8 2.75Z"})))}var Nn,En=a.forwardRef(kn),Ln=(n.p,function(e){var t=e.books,n=e.user,r=e.isMaster,a=e.showModal,i=e.handleDelete,s=e.booksKey;return Object(j.jsx)("div",{className:"club-books-card__footer",children:t.map((function(e,t){return Object(j.jsxs)("div",{className:e.isDisabled?"club-books-card-book club-books-card-book--disabled":"club-books-card-book",children:[Object(j.jsxs)("div",{className:"club-books-card-book__left-container",children:[Object(j.jsx)("p",{className:"club-books-card-book__title",children:"".concat(e.title," - ").concat(e.authors.join(", "))}),Object(j.jsx)(_,{className:"club-books-card-book__details",onClick:function(){return a(e.id)},children:Object(j.jsx)(En,{})})]}),Object(j.jsxs)("div",{className:"club-books-card-book__right-container",children:[Object(j.jsx)("p",{className:"club-books-card-book__year",children:e.year}),r&&i&&Object(j.jsx)(_,{className:"club-books-card-book__delete",onClick:function(){return i(t,n.url)},children:Object(j.jsx)(mn,{})})]})]},"".concat(n.url,"-").concat(e.id,"-").concat(s))}))})});function An(){return An=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},An.apply(this,arguments)}function In(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tn(e,t){var n=e.title,r=e.titleId,i=In(e,["title","titleId"]);return a.createElement("svg",An({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,Nn||(Nn=a.createElement("path",{fillRule:"evenodd",d:"M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"})))}var Rn,Dn=a.forwardRef(Tn),Mn=(n.p,function(e){var t=e.user,n=e.toggleOpen;Object(b.a)(e,["user","toggleOpen"]);return Object(j.jsxs)("div",{className:"club-books-card__head",children:[Object(j.jsxs)(Ee.b,{className:"club-books-card__user",to:"".concat(r.USER_PROFILE_BASE).concat(t.url),children:[Object(j.jsx)("div",{className:"club-books-card__avatar",children:Object(j.jsx)(Ie,{color:t.color,emoji:t.emoji})}),Object(j.jsx)("span",{className:"club-books-card__username",children:t.username})]}),Object(j.jsx)(_,{className:"club-books-card__button",onClick:n,children:Object(j.jsx)(Dn,{})})]})}),Bn=function(e){var t=e.user,n=e.books,r=e.isMaster,i=e.handleDelete,s=e.booksKey,c=(Object(b.a)(e,["user","books","isMaster","handleDelete","booksKey"]),Object(a.useState)(!1)),o=Object(h.a)(c,2),l=o[0],u=o[1],d=ne().showModal;return Object(j.jsx)(a.Fragment,{children:Object(j.jsxs)("div",{className:l?"club-books-card club-books-card--open":"club-books-card",children:[Object(j.jsx)(Mn,{user:t,toggleOpen:function(){u((function(e){return!e}))}}),Object(j.jsx)(Ln,{books:n,user:t,isMaster:r,showModal:function(e){d(Object(j.jsx)(Cn,{bookId:e}))},handleDelete:i,booksKey:s})]})})},Pn=(n(143),function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=hn(),s=i.isMaster,c=i.clubUrl,o=Object(a.useState)(!1),l=Object(h.a)(o,2),u=l[0],d=l[1],b=de("Tab",Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getClubBooks(c);case 2:t=e.sent,r(t.data),d(!0);case 5:case"end":return e.stop()}}),e)}))));Object(a.useEffect)((function(){b({})}),[c]);var j=de("Post",function(){var e=Object(y.a)(C.a.mark((function e(t){var a,i,s,o;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.userUrl,i=t.index,e.next=3,P.deleteClubBook(c,a,i);case 3:"Success"===e.sent.data&&(o=(s=n).findIndex((function(e){return e.user.url===a})),s[o].books.splice(i,1),r(Object(pn.a)(s)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return{booksData:n,clubUrl:c,isMaster:s,handleDelete:function(e,t){j({index:e,userUrl:t})},isLoaded:u}}),Un=function(){var e=Pn(),t=e.booksData,n=e.clubUrl,r=e.isMaster,a=e.handleDelete,i=e.isLoaded;return Object(j.jsxs)("div",{className:"club-profile-books",children:[i&&t.map((function(e,t){return Object(j.jsx)(Bn,{books:Object(pn.a)(e.books),user:e.user,isMaster:r,handleDelete:a},"".concat(n,"-").concat(e.user.url,"-books"))})),i&&0===t.length&&Object(j.jsx)("div",{children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438 \u0435\u0449\u0451 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u043a\u043d\u0438\u0433\u0438"})]})},Fn=(n(144),n(145),function(e){for(var t=Object(pn.a)(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=[t[r],t[n]];t[n]=a[0],t[r]=a[1]}return t}),Hn=function(e,t){return e.filter((function(e){var n,r,a,i;return!((null===(n=e.value)||void 0===n?void 0:n.userUrl)===(null===(r=t.value)||void 0===r?void 0:r.userUrl)&&(null===(a=e.value)||void 0===a?void 0:a.bookId)===(null===(i=t.value)||void 0===i?void 0:i.bookId))}))},Wn=function(e){var t=parseInt(e.substring(1),16);return.2126*(t>>16&255)+.7152*(t>>8&255)+.0722*(t>>0&255)<40?"white":"black"},Gn=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=e[n],a=0;a<r.books.length;a++)t.push({text:"".concat(r.user.username," ").concat(r.user.emoji),fillStyle:r.user.color,textFillStyle:Wn(r.user.color),value:{bookId:r.books[a].id,userUrl:r.user.url}});return t},Xn=function(e,t){var n=Object(a.useState)([]),r=Object(h.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){!function(){var n=Gn(e);t(n.length);var r=Fn(n);s(r)}()}),[]),{wheelSegments:i,shuffleSegments:function(){s(Fn(i))},removeWinnerSegment:function(e){s(Object(pn.a)(Hn(i,e)))}}},Vn=function(e,t){var n=e.findIndex((function(e){var n;return e.user.url===(null===(n=t.value)||void 0===n?void 0:n.userUrl)})),r=e[n].books.findIndex((function(e){var n;return e.id===(null===(n=t.value)||void 0===n?void 0:n.bookId)}));return{user:e[n].user,book:e[n].books[r],indexBook:r,indexUser:n}},Yn=function(e){var t=e.clubBooks,n=e.wheelSegments,r=e.displayWinner,i=e.isFinish,s=e.addToHistory,c=Object(a.useState)(null),o=Object(h.a)(c,2),l=o[0],u=o[1];return Object(a.useEffect)((function(){if(l)if(i){var e=Vn(t,n[0]);r(e.indexUser,e.indexBook),s(e)}else r(l.indexUser,l.indexBook),s(l)}),[l]),{winnerInfo:l,setWinner:function(e){var n=Vn(t,e);u(n)}}},Zn=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1];return{wheelRollsHistory:n,addToHistory:function(e){var t=Object(pn.a)(n);t.push(e),r(t)}}};!function(e){e.START="START",e.ROLL="ROLL",e.FINISH="FINISH"}(Rn||(Rn={}));var zn,Kn=function(){var e=Object(a.useState)(!0),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(h.a)(i,2),c=s[0],o=s[1],l=Object(a.useState)(!1),u=Object(h.a)(l,2),d=u[0],b=u[1];return{isStart:n,isRoll:c,isFinish:d,setStage:function(e,t){switch(e){case Rn.START:r(t);break;case Rn.ROLL:o(t);break;case Rn.FINISH:b(t)}}}},qn=function(e,t,n){var i=e.clubBooks,s=e.handleSetBooksKey,c=e.displayWinner,l=Object(o.k)().clubUrl,u=Object(o.i)(),d=ne().addNotification,b=Object(a.useState)(0),j=Object(h.a)(b,2),f=j[0],m=j[1],O=Kn(),p=O.isStart,g=O.isRoll,v=O.isFinish,_=O.setStage,x=Xn(i,n),w=x.wheelSegments,S=x.shuffleSegments,k=x.removeWinnerSegment,N=Zn(),E=N.wheelRollsHistory,L=N.addToHistory,A=Yn({clubBooks:i,displayWinner:c,wheelSegments:w,isFinish:v,addToHistory:L}),I=A.winnerInfo,T=A.setWinner,R=de("Post",Object(y.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.confirmBook(l||"",(null===I||void 0===I?void 0:I.book.id)||"");case 2:"Success"===e.sent.data&&(d("\u041a\u043d\u0438\u0433\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u0430","success"),u("".concat(r.CLUB_PROFILE_BASE).concat(l)));case 4:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){s(f)}),[f]),{wheelStages:{isStart:p,isRoll:g,isFinish:v},wheelWinner:{winnerInfo:I,handleWinner:function(e){k(e),_(Rn.ROLL,!1),2===w.length&&_(Rn.FINISH,!0),T(e)}},hookData:{wheelSegments:w,wheelRollsHistory:E,rollCount:f,startRoll:function(){t(),n(w.length),S(),p&&_(Rn.START,!1),_(Rn.ROLL,!0),m((function(e){return e+1}))},confirmBook:R}}},Jn=n(58),$n=(n(146),function(e){var t=e.sizeOptions,n=e.textOptions,r=e.animationOptions,i=e.renderOptions,s=e.segments,o=e.handleWinner;return Object(a.useEffect)((function(){new Jn.a(Object(c.a)(Object(c.a)(Object(c.a)(Object(c.a)({canvasId:"wheelCanvas",numSegments:s.length,segments:s},t),n),i),{},{animation:Object(c.a)({callbackFinished:o},r)})).startAnimation()}),[]),Object(j.jsx)("canvas",{id:"wheelCanvas",width:(null===t||void 0===t?void 0:t.canvasWidth)||400,height:(null===t||void 0===t?void 0:t.canvasHeight)||400})}),Qn=(n(147),function(e){var t=e.winnerInfo;Object(b.a)(e,["winnerInfo"]);return Object(j.jsxs)("div",{className:"wheel-container-book-data",children:[Object(j.jsxs)("div",{className:"wheel-container-book-data__user",children:[Object(j.jsx)("span",{children:"\u041a\u043d\u0438\u0433\u0430 \u043e\u0442"})," ",t.user.username,Object(j.jsx)("span",{className:"wheel-container-book-data__emoji",children:t.user.emoji})]}),Object(j.jsx)("div",{className:"wheel-container-book-data__title",children:t.book.title}),Object(j.jsx)("div",{className:"wheel-container-book-data__authors",children:t.book.authors.join(", ")})]})}),er=(n(148),function(e){var t=e.winnerInfo;Object(b.a)(e,["winnerInfo"]);return Object(j.jsxs)("div",{className:"wheel-container-info",children:[!t&&Object(j.jsxs)("div",{className:"wheel-container-info__placeholder",children:["\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 ",Object(j.jsx)("span",{children:"\u0420\u0430\u0441\u043a\u0440\u0443\u0442\u0438\u0442\u044c"})]}),t&&Object(j.jsx)(Qn,{winnerInfo:t})]})}),tr=(n(149),function(e){var t=e.startRoll,n=e.confirmBook,r=e.isRoll,i=e.isFinish,s=e.handleSetTime;return Object(j.jsx)("div",{className:"wheel-container-controls",children:i?Object(j.jsx)(Et,{onClick:n,className:"main-button--green",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"}):Object(j.jsxs)(a.Fragment,{children:[Object(j.jsxs)("div",{className:"wheel-container-controls__input-group",children:[Object(j.jsx)("label",{className:"wheel-container-controls__input-label",htmlFor:"spin-time",children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f"}),Object(j.jsx)(ae,{className:"wheel-container-controls__input",name:"spin-time",disabled:r,maxLength:2,onChange:s})]}),Object(j.jsx)(Et,{className:"wheel-container-controls__button",disabled:r,onClick:t,children:"\u0420\u0430\u0441\u043a\u0440\u0443\u0442\u0438\u0442\u044c"})]})})}),nr=function(e){var t=Math.floor(e/2),n=e-t,r=e+t;return Math.floor(Math.random()*(r-n+1))+n},rr=function(e){return Math.ceil(18.61463-.3442469*e+.00358241*Math.pow(e,2)-139929e-10*Math.pow(e,3))},ar=function(){var e=Object(a.useState)(10),t=Object(h.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(10),s=Object(h.a)(i,2),c=s[0],o=s[1],l=Object(a.useState)(14),u=Object(h.a)(l,2),d=u[0],b=u[1],j=function(){var e=nr(n);o(e)};return Object(a.useEffect)((function(){j()}),[n]),{handleSetTime:function(e){var t=e.currentTarget.value.replace(/\D/,""),n=parseInt(t);0===n?(e.currentTarget.value="1",r(1)):n?(e.currentTarget.value=t,r(n)):(e.currentTarget.value="",r(10))},handeSetSpinsNumber:j,recountTextSize:function(e){var t=rr(e);b(t)},spinsNumber:c,spinTime:n,textSize:d}},ir=function(e){var t=Object(o.k)().clubUrl,n=ne().addNotification,a=Object(o.i)();return de("Page",function(){var i=Object(y.a)(C.a.mark((function i(s){return C.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,P.confirmBook(t||"",e[s].book.id||"");case 2:"Success"===i.sent.data&&(n("\u041a\u043d\u0438\u0433\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u043d\u0430","success"),a("".concat(r.CLUB_PROFILE_BASE).concat(t)));case 4:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())},sr=(n(150),function(e){var t=e.rollsHistory,n=(Object(b.a)(e,["rollsHistory"]),ir(t));return t.length>0?Object(j.jsx)("div",{className:"wheel-history",children:t.map((function(e,t){return Object(j.jsxs)("div",{className:"wheel-history__group",children:[Object(j.jsxs)("div",{className:"wheel-history__user",children:[t+1,". \u041a\u043d\u0438\u0433\u0430 \u043e\u0442 ",Object(j.jsx)("span",{className:"wheel-history__username",children:e.user.username})," ",Object(j.jsx)("span",{className:"wheel-history__emoji",children:e.user.emoji})]}),Object(j.jsxs)("div",{className:"wheel-history__book",children:[Object(j.jsx)("span",{className:"wheel-history__title",children:e.book.title})," - ",e.book.authors.join(", ")]}),Object(j.jsx)("div",{className:"wheel-history__button",children:Object(j.jsx)(_,{onClick:function(){return n(t)},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043a\u043d\u0438\u0433\u0443"})})]})}))}):Object(j.jsx)("div",{className:"wheel-history__placeholder",children:"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u043a\u0440\u0443\u0442\u0438\u043b\u0438 \u043a\u043e\u043b\u0435\u0441\u043e"})});function cr(){return cr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cr.apply(this,arguments)}function or(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lr(e,t){var n=e.title,r=e.titleId,i=or(e,["title","titleId"]);return a.createElement("svg",cr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,zn||(zn=a.createElement("path",{fill:"currentColor",d:"M1.543 9.192c9.107 16.636 18.215 33.26 27.32 49.898a3.575 3.575 0 0 0 6.327 0c9.108-16.636 18.215-33.26 27.32-49.898c1.409-2.571-.387-5.902-3.163-5.902H4.698c-1.54 0-2.571.828-3.111 1.949c-.676 1.068-.859 2.488-.052 3.953"})))}var ur=a.forwardRef(lr);n.p,n(151);function dr(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var hr,br=function(e){var t=e.clubBooks,n=e.displayWinner,r=e.handleSetBooksKey,i=(Object(b.a)(e,["clubBooks","displayWinner","handleSetBooksKey"]),ne().showModal),s=function(){var e=Object(a.useState)(dr()),t=Object(h.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){function e(){r(dr())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}().width,c=ar(),o=c.handleSetTime,l=c.handeSetSpinsNumber,u=c.recountTextSize,d=c.spinsNumber,f=c.spinTime,m=c.textSize,O=qn({clubBooks:t,handleSetBooksKey:r,displayWinner:n},l,u),p=O.hookData,g=O.wheelWinner,v=O.wheelStages,x=p.wheelSegments,w=p.wheelRollsHistory,C=p.rollCount,y=p.startRoll,S=p.confirmBook,k=v.isStart,N=v.isRoll,E=v.isFinish,L=g.winnerInfo,A=g.handleWinner,I=k?{spins:0}:{type:"spinToStop",spins:d,duration:f};return s<700?Object(j.jsx)("div",{className:"wheel-container__placeholder",children:"\u0412\u0430\u0448 \u044d\u043a\u0440\u0430\u043d \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0430\u043b \u0434\u043b\u044f \u043a\u043e\u043b\u0435\u0441\u0430"}):Object(j.jsxs)("div",{className:"wheel-container",children:[Object(j.jsxs)("div",{className:"wheel-container__wheel",children:[Object(j.jsx)("div",{className:"wheel-container__triangle",children:Object(j.jsx)(ur,{})}),Object(j.jsx)($n,{handleWinner:A,segments:x,sizeOptions:{canvasWidth:600,canvasHeight:600,innerRadius:40},textOptions:{textFontSize:m,textFontFamily:"Inter",textFontWeight:600},renderOptions:{lineWidth:1,strokeStyle:"#737373"},animationOptions:I},"".concat(0===x.length,"-").concat(C))]}),Object(j.jsxs)("div",{className:"wheel-container__side",children:[Object(j.jsxs)("div",{className:"wheel-container__info-wrapper",children:[Object(j.jsx)(er,{winnerInfo:L}),Object(j.jsx)(tr,{isRoll:N,confirmBook:S,isFinish:E,startRoll:y,handleSetTime:o})]}),Object(j.jsx)("div",{className:"wheel-container__history-button-wrapper",children:Object(j.jsxs)(_,{className:"wheel-container__history-button",onClick:function(){return i(Object(j.jsx)(sr,{rollsHistory:w}))},children:["\u0418\u0441\u0442\u043e\u0440\u0438\u044f",Object(j.jsx)(En,{})]})})]})]})},jr=function(e){var t=e.clubBooks,n=e.booksKey;Object(b.a)(e,["clubBooks","booksKey"]);return Object(j.jsx)("div",{className:"club-profile-books",children:t.map((function(e,t){return Object(j.jsx)(Bn,{books:Object(pn.a)(e.books),user:e.user,booksKey:n},"wheel-".concat(e.user.url,"-books"))}))})},fr=function(){var e=Object(o.k)().clubUrl,t=Object(a.useState)([]),n=Object(h.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),c=Object(h.a)(s,2),l=c[0],u=c[1],d=Object(a.useState)(""),b=Object(h.a)(d,2),j=b[0],f=b[1],m=de("Page",Object(y.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getClubBooks(e||"");case 2:n=t.sent,i(n.data),u(!0);case 5:case"end":return t.stop()}}),t)}))));Object(a.useEffect)((function(){m({})}),[]);return{clubBooks:r,isLoaded:l,displayWinner:function(e,t){i((function(n){return n[e].books[t].isDisabled=!0,Object(pn.a)(n)}))},booksKey:j,handleSetBooksKey:function(e){f(e.toString())}}};n(152);function mr(){return mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mr.apply(this,arguments)}function Or(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pr(e,t){var n=e.title,r=e.titleId,i=Or(e,["title","titleId"]);return a.createElement("svg",mr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,hr||(hr=a.createElement("path",{fill:"currentColor",d:"M19 11H7.14l3.63-4.36a1 1 0 1 0-1.54-1.28l-5 6a1.19 1.19 0 0 0-.09.15c0 .05 0 .08-.07.13A1 1 0 0 0 4 12a1 1 0 0 0 .07.36c0 .05 0 .08.07.13a1.19 1.19 0 0 0 .09.15l5 6A1 1 0 0 0 10 19a1 1 0 0 0 .64-.23a1 1 0 0 0 .13-1.41L7.14 13H19a1 1 0 0 0 0-2Z"})))}var gr,vr,_r=a.forwardRef(pr),xr=(n.p,function(){var e=Object(o.k)().clubUrl,t=fr(),n=t.clubBooks,i=t.isLoaded,s=t.displayWinner,c=t.handleSetBooksKey,l=t.booksKey;return i?Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Re.a,{children:Object(j.jsx)("title",{children:"\u041a\u043d\u0438\u0436\u043d\u043e\u0435 \u043a\u043e\u043b\u0435\u0441\u043e"})}),Object(j.jsxs)("div",{className:"wheel-page",children:[Object(j.jsx)("div",{className:"wheel-page__back-wrapper",children:Object(j.jsxs)(Ee.b,{className:"wheel-page__back",to:"".concat(r.CLUB_PROFILE_BASE).concat(e),children:[Object(j.jsx)(_r,{}),"\u041d\u0430\u0437\u0430\u0434"]})}),Object(j.jsx)(br,{clubBooks:n,handleSetBooksKey:c,displayWinner:s}),Object(j.jsx)(jr,{clubBooks:n,booksKey:l})]})]}):Object(j.jsx)("div",{className:"wheel-page__loader",children:Object(j.jsx)(ge,{})})}),wr=n(38),Cr=n.n(wr),yr=function(){return Object(j.jsx)("div",{children:"Reviews"})},Sr=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=hn().clubUrl,s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Tab",Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getChosenBooksHistory(i);case 2:t=e.sent,r(t.data),l(!0);case 5:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){u({})}),[i]),{chosenBooksHistory:n,isLoaded:o,clubUrl:i}},kr=(n(168),function(){var e=Sr(),t=e.chosenBooksHistory,n=e.isLoaded,r=e.clubUrl;return Object(j.jsxs)("div",{className:"club-profile-history",children:[n&&0!==t.length&&t.map((function(e,t){return Object(j.jsx)(On,{isClubHistory:!0,bookData:Object(c.a)({meetingNumber:t+1},e)},"history-".concat(r,"-meeting-").concat(t))})),n&&0===t.length&&Object(j.jsx)("div",{children:"\u0421\u043e\u0431\u0440\u0430\u043d\u0438\u0439 \u0435\u0449\u0451 \u043d\u0435 \u0431\u044b\u043b\u043e"})]})}),Nr=function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],r=t[1],i=hn().clubUrl,s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Tab",Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getClubMembers(i);case 2:t=e.sent,r(t.data),l(!0);case 5:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){u({})}),[i]),{usersInfo:n,isLoaded:o,clubUrl:i}},Er=(n(169),function(e){var t=e.userInfo,n=e.className,a=(Object(b.a)(e,["userInfo","className"]),t.username),i=t.url,s=t.emoji,c=t.color,o=n?"member-card ".concat(n):"member-card";return Object(j.jsx)(Ee.b,{to:"".concat(r.USER_PROFILE_BASE).concat(i),className:o,children:Object(j.jsxs)("div",{className:"member-card__content",children:[Object(j.jsx)("div",{className:"member-card__avatar",children:Object(j.jsx)(Ie,{color:c,emoji:s,className:"avatar--big"})}),Object(j.jsx)("span",{className:"member-card__name",children:a})]})})}),Lr=(n(170),function(){var e=Nr(),t=e.usersInfo,n=e.clubUrl,r=e.isLoaded;return Object(j.jsxs)("div",{className:"club-profile-members",children:[r&&0!==t.length&&t.map((function(e,t){return Object(j.jsx)(Er,{className:"club-profile-members__card",userInfo:e},"members-".concat(n,"-meeting-").concat(t))})),r&&0===t.length&&Object(j.jsx)("div",{children:"\u0412 \u043a\u043b\u0443\u0431\u0435 \u043d\u0435\u0442 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"})]})}),Ar=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],i=hn().clubUrl,s=Object(a.useState)(!1),c=Object(h.a)(s,2),o=c[0],l=c[1],u=de("Tab",Object(y.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getClubRules(i);case 2:t=e.sent,r(t.data),l(!0);case 5:case"end":return e.stop()}}),e)}))));return Object(a.useEffect)((function(){u({})}),[i]),{clubRules:n,isLoaded:o}},Ir=(n(171),function(){var e=Ar(),t=e.clubRules,n=e.isLoaded;return Object(j.jsxs)("div",{className:"club-profile-rules",children:[n&&t&&Object(j.jsx)("p",{className:"club-profile-rules__text",children:t}),n&&!t&&Object(j.jsx)("div",{children:"\u041f\u0443\u0441\u0442\u043e"})]})}),Tr=function(){return Object(j.jsx)("div",{children:"Reviews"})},Rr=(n(172),function(){var e=d((function(e){return e.bubble})),t=e.isShow,n=e.reactComponent,r=e.wrapperClass,a=ne().closeBubble,i=r?"bubble ".concat(r):"bubble";return t?Object(j.jsx)("div",{className:"bubble__background",onClick:a,children:Object(j.jsx)("div",{className:i,children:n})}):null}),Dr=function(){var e=d((function(e){return e.auth})),t=e.isAuth,n=e.userData,i=Object(o.g)(),s=i.pathname.substring(0,i.pathname.lastIndexOf("/"));return Object(j.jsxs)(a.Fragment,{children:[Object(j.jsx)(Ve,{}),t&&n?Object(j.jsxs)("div",{className:"app-layout",children:[Object(j.jsx)(Nt,{}),Object(j.jsx)(Rr,{}),Object(j.jsx)("main",{className:"app-layout__page",children:Object(j.jsx)(Cr.a,{autoHide:!0,renderView:function(e){return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{className:"app-layout__wrapper"}))},children:Object(j.jsxs)(o.e,{children:[Object(j.jsxs)(o.c,{path:r.USER_PROFILE,element:Object(j.jsx)(Pe,{},s),children:[Object(j.jsx)(o.c,{path:r.USER_PROFILE_BOOKS,element:Object(j.jsx)(xn,{})}),Object(j.jsx)(o.c,{path:r.USER_PROFILE_REVIEWS,element:Object(j.jsx)(yr,{})})]}),Object(j.jsxs)(o.c,{path:r.CLUB_PROFILE,element:Object(j.jsx)(dn,{},s),children:[Object(j.jsx)(o.c,{path:r.CLUB_PROFILE_BOOKS,element:Object(j.jsx)(Un,{})}),Object(j.jsx)(o.c,{path:r.CLUB_PROFILE_HISTORY,element:Object(j.jsx)(kr,{})}),Object(j.jsx)(o.c,{path:r.CLUB_PROFILE_MEMBERS,element:Object(j.jsx)(Lr,{})}),Object(j.jsx)(o.c,{path:r.CLUB_PROFILE_RULES,element:Object(j.jsx)(Ir,{})}),Object(j.jsx)(o.c,{path:r.CLUB_PROFILE_REVIEWS,element:Object(j.jsx)(Tr,{})})]}),Object(j.jsx)(o.c,{path:r.CLUB_WHEEL,element:Object(j.jsx)(xr,{})}),Object(j.jsx)(o.c,{path:r.RANDOM_BOOK,element:Object(j.jsx)(Bt,{})}),Object(j.jsx)(o.c,{path:"*",element:Object(j.jsx)(o.a,{to:"".concat(r.USER_PROFILE_BASE).concat(n.url,"/")})})]})})})]}):Object(j.jsx)("div",{className:"auth-pages",children:Object(j.jsxs)(o.e,{children:[Object(j.jsx)(o.c,{path:r.LOGIN,element:Object(j.jsx)(He,{})}),Object(j.jsx)(o.c,{path:r.REGISTER,element:Object(j.jsx)(Xe,{})}),Object(j.jsx)(o.c,{path:"*",element:Object(j.jsx)(o.a,{to:r.REGISTER})})]})})]})},Mr=(n(173),n(174),function(e){var t=e.message,n=e.notificationType;Object(b.a)(e,["message","notificationType"]);return Object(j.jsxs)("div",{className:"notification notification--".concat(n),children:[Object(j.jsx)("div",{className:"notification__line"}),Object(j.jsx)("span",{children:t})]})}),Br=(n(175),function(){var e=d((function(e){return e.notifications.notifications}));return Object(j.jsx)("div",{className:"notification-container",children:e.map((function(e){return Object(j.jsx)(Mr,{message:e.message,notificationType:e.notificationType},"notification-".concat(e.id))}))})});function Pr(){return Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}function Ur(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fr(e,t){var n=e.title,r=e.titleId,i=Ur(e,["title","titleId"]);return a.createElement("svg",Pr({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,gr||(gr=a.createElement("path",{fill:"currentColor",d:"M16 2C8.2 2 2 8.2 2 16s6.2 14 14 14s14-6.2 14-14S23.8 2 16 2zm0 26C9.4 28 4 22.6 4 16S9.4 4 16 4s12 5.4 12 12s-5.4 12-12 12z"})),vr||(vr=a.createElement("path",{fill:"currentColor",d:"M21.4 23L16 17.6L10.6 23L9 21.4l5.4-5.4L9 10.6L10.6 9l5.4 5.4L21.4 9l1.6 1.6l-5.4 5.4l5.4 5.4z"})))}var Hr=a.forwardRef(Fr),Wr=(n.p,n(176),function(){var e=d((function(e){return e.modal})),t=e.isShow,n=e.reactComponent,r=ne().closeModal;return t?Object(j.jsx)("div",{className:"modal-bg",onClick:r,children:Object(j.jsx)(Cr.a,{autoHide:!0,renderThumbVertical:function(e){return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{className:"modal-container__scrollbar"}))},renderThumbHorizontal:function(e){return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{className:"modal-container__scrollbar"}))},renderView:function(e){return Object(j.jsx)("div",Object(c.a)(Object(c.a)({},e),{},{className:"modal-container__wrapper"}))},children:Object(j.jsxs)("div",{className:"modal-container",onClick:function(e){return e.stopPropagation()},children:[n,Object(j.jsx)(_,{className:"modal-container__close",onClick:r,children:Object(j.jsx)(Hr,{})})]})})}):null}),Gr=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(Dr,{}),Object(j.jsx)(Br,{}),Object(j.jsx)(Wr,{})]})},Xr=n(59),Vr=n(60),Yr=JSON.parse(localStorage.getItem("isAuth")||"{}"),Zr=JSON.parse(localStorage.getItem("userData")||"{}"),zr={isAuth:"object"!==typeof Yr&&Yr,userData:0===Object.keys(Zr).length?null:Zr};var Kr={notifications:[]};var qr=localStorage.getItem("themeStyle"),Jr={themeStyle:"light"===qr||"dark"===qr?qr:"light"};var $r={isShow:!1,reactComponent:null};var Qr={isLoadingTab:!1};var ea={isLoadingPage:!1};function ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.SET_LOADING_PAGE_TRUE:case T.SET_LOADING_PAGE_FALSE:return{isLoadingPage:t.payload};default:return e}}var na={isLoadingPost:!1};var ra={isShow:!1,reactComponent:null,wrapperClass:null};var aa={auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.SET_IS_AUTH:return Object(c.a)(Object(c.a)({},e),{},{isAuth:t.payload});case g.SET_USER_DATA:return Object(c.a)(Object(c.a)({},e),{},{userData:t.payload});default:return e}},notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H.SET_NOTIFICATION:return{notifications:[].concat(Object(pn.a)(e.notifications.filter((function(e){return e.id!==t.payload.id}))),[t.payload])};case H.DELETE_NOTIFICATION:return{notifications:e.notifications.filter((function(e){return e.id!==t.payload}))};default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,t=arguments.length>1?arguments[1]:void 0;return t.type===U.SET_THEME?Object(c.a)(Object(c.a)({},e),{},{themeStyle:t.payload}):e},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$r,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.CLOSE_MODAL:return $r;case X.SHOW_MODAL:return{isShow:!0,reactComponent:t.payload};default:return e}},loadingTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.SET_LOADING_TAB_TRUE:case Y.SET_LOADING_TAB_FALSE:return{isLoadingTab:t.payload};default:return e}},loadingPage:ta,loadingModal:ta,loadingPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.SET_LOADING_POST_TRUE:case q.SET_LOADING_POST_FALSE:return{isLoadingPost:t.payload};default:return e}},bubble:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.CLOSE_BUBBLE:return ra;case $.SHOW_BUBBLE:return{isShow:!0,reactComponent:t.payload.reactComponent,wrapperClass:t.payload.wrapperClass};default:return e}}},ia=aa,sa=Object(x.combineReducers)(ia),ca=Object(x.createStore)(sa,Object(Xr.composeWithDevTools)(Object(x.applyMiddleware)(Vr.a)));s.a.render(Object(j.jsx)(u.a,{store:ca,children:Object(j.jsx)(Ee.a,{children:Object(j.jsx)(Gr,{})})}),document.getElementById("root"))}]),[[177,1,2]]]);
//# sourceMappingURL=main.c64bdcf2.chunk.js.map